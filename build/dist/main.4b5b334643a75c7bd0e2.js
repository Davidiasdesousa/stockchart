!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ReStock=e(require("React")):t.ReStock=e(t.React)}(self,(t=>(()=>{var e={556:(t,e,n)=>{t.exports=n(694)()},622:(t,e,n)=>{var r=1/0,o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();function s(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var u=Object.prototype,c=u.hasOwnProperty,l=u.toString,h=a.Symbol,f=u.propertyIsEnumerable,p=h?h.isConcatSpreadable:void 0;function d(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=y),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?d(u,e-1,n,r,o):s(o,u):r||(o[o.length]=u)}return o}function y(t){return v(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&c.call(t,"callee")&&(!f.call(t,"callee")||"[object Arguments]"==l.call(t))}(t)||!!(p&&t&&t[p])}var v=Array.isArray;t.exports=function(t){return t&&t.length?d(t,r):[]}},694:(t,e,n)=>{"use strict";var r=n(925);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},883:e=>{"use strict";e.exports=t},925:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o),r.d(o,{BackgroundText:()=>No,Chart:()=>qe,ChartCanvas:()=>Jr,GenericChartComponent:()=>Do,GenericComponent:()=>ho,ZoomButtons:()=>Jo,version:()=>ti});var t=r(883),e=r.n(t),n=r(556),i=r.n(n);function a(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function s(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}class u extends Map{constructor(t,e=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(c(this,t))}has(t){return super.has(c(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function c({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function l(t){return null!==t&&"object"==typeof t?t.valueOf():t}function h(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Set;const f=Symbol("implicit"),p=function(t){for(var e=new Array(10),n=0;n<10;)e[n]="#"+t.slice(6*n,6*++n);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),d=function(){},y=function(t){return t};function v(t){return"[object Date]"===Object.prototype.toString.call(t)}function m(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var n,r,o,i=0,a=0;for(n in e)if(a++,Object.prototype.hasOwnProperty.call(e,n)&&!Object.prototype.hasOwnProperty.call(t,n)||(r=t[n],o=e[n],!(v(r)&&v(o)?r.getTime()===o.getTime():r===o)))return!1;for(n in t)i++;return i===a}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(P=function(){return!!t})()}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}const S=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=x(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,n||[],x(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,(r=[{key:"shouldComponentUpdate",value:function(t,e,n){return!m(this.props,t)||!m(this.state,e)||!m(this.context,n)}}])&&b(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(e().Component);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function k(t){return d}function M(t){return"function"==typeof t?t:function(){return t}}function D(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=0;r<t.length;++r)if(e.call(n,t[r],r,t))return t[r]}function _(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}var E="mouseenter.interaction",A="mouseleave.interaction",j="mousemove.pan",T="mouseup.pan",R="touchmove.pan",I="touchend.pan touchcancel.pan";function N(t){return t?{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}:{}}function q(t,e,n,r){for(var o=0,i=t.length-1;i-o>1;){var a=Math.round((o+i)/2);n(t[a])<=e?o=a:i=a}return n(t[o]).valueOf()===e.valueOf()&&(i=o),n(t[i]).valueOf()===e.valueOf()&&(o=i),n(t[o])<e&&n(t[i])<e&&(o=i),n(t[o])>e&&n(t[i])>e&&(i=o),{left:o,right:i}}function $(t,e){if(!e||!t)return t?t[0]:void 0;for(var n,r=0;r<t.length;r++)if(H(e(n=t[r])))return n}function X(t,e){if(!e||!t){var n=t?t.length:0;return n?t[n-1]:void 0}for(var r,o=t.length-1;o>=0;o--)if(H(e(r=t[o])))return r}function H(t){return null!=t}function z(t){return!H(t)}function Z(t,e){var n=e.target,r=n.getBoundingClientRect(),o=t.clientX-r.left-n.clientLeft,i=t.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function Y(t,e){var n=t.currentTarget,r=e||n.getBoundingClientRect(),o=t.clientX-r.left-n.clientLeft,i=t.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function B(t,e){t.forEach((function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(-1,-1,t.canvas.width+2,t.canvas.height+2),t.scale(e,e)}))}function F(t,e){var n=t.replace("#","");if(t.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2,o=parseInt(n.substring(0,1*r),16),i=parseInt(n.substring(1*r,2*r),16),a=parseInt(n.substring(2*r,3*r),16);return"rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(e,")")}return t}!function t(){var e=new u,n=[],r=[],o=f;function i(t){let i=e.get(t);if(void 0===i){if(o!==f)return o;e.set(t,i=n.push(t)-1)}return r[i%r.length]}return i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new u;for(const r of t)e.has(r)||e.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(r=Array.from(t),i):r.slice()},i.unknown=function(t){return arguments.length?(o=t,i):o},i.copy=function(){return t(n,r).unknown(o)},h.apply(i,arguments),i}(p),Array.isArray;var W="$";function L(){}function U(t,e){var n=new L;if(t instanceof L)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function V(){}L.prototype=U.prototype={constructor:L,has:function(t){return W+t in this},get:function(t){return this[W+t]},set:function(t,e){return this[W+t]=e,this},remove:function(t){var e=W+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===W&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===W&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===W&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===W&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===W&&++t;return t},empty:function(){for(var t in this)if(t[0]===W)return!1;return!0},each:function(t){for(var e in this)e[0]===W&&t(this[e],e.slice(1),this)}};var G=U.prototype;function K(t,e){var n=new V;if(t instanceof V)t.each((function(t){n.add(t)}));else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}V.prototype=K.prototype={constructor:V,has:G.has,add:function(t){return this[W+(t+="")]=t,this},remove:G.remove,clear:G.clear,values:G.keys,size:G.size,empty:G.empty,each:G.each};const Q=K;var J=r(622),tt=r.n(J);const et=Math.sqrt(50),nt=Math.sqrt(10),rt=Math.sqrt(2);function ot(t,e,n){const r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=et?10:i>=nt?5:i>=rt?2:1;let s,u,c;return o<0?(c=Math.pow(10,-o)/a,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,o)*a,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?ot(t,e,2*n):[s,u,c]}function it(t,e,n){return ot(t=+t,e=+e,n=+n)[2]}function at(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function st(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ut(t){let e,n,r;function o(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<0?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=at,n=(e,n)=>at(t(e),n),r=(e,n)=>t(e)-n):(e=t===at||t===st?t:ct,n=t,r=t),{left:o,center:function(t,e,n=0,i=t.length){const a=o(t,e,n,i-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<=0?o=e+1:i=e}while(o<i)}return o}}}function ct(){return 0}const lt=ut(at),ht=lt.right,ft=(lt.left,ut((function(t){return null===t?NaN:+t})).center,ht);function pt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yt(){}var vt=.7,mt=1/vt,gt="\\s*([+-]?\\d+)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,xt=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),Ct=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),St=new RegExp(`^rgba\\(${gt},${gt},${gt},${bt}\\)$`),Ot=new RegExp(`^rgba\\(${wt},${wt},${wt},${bt}\\)$`),kt=new RegExp(`^hsl\\(${bt},${wt},${wt}\\)$`),Mt=new RegExp(`^hsla\\(${bt},${wt},${wt},${bt}\\)$`),Dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _t(){return this.rgb().formatHex()}function Et(){return this.rgb().formatRgb()}function At(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jt(e):3===n?new It(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xt.exec(t))?new It(e[1],e[2],e[3],1):(e=Ct.exec(t))?new It(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=St.exec(t))?Tt(e[1],e[2],e[3],e[4]):(e=Ot.exec(t))?Tt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=kt.exec(t))?zt(e[1],e[2]/100,e[3]/100,1):(e=Mt.exec(t))?zt(e[1],e[2]/100,e[3]/100,e[4]):Dt.hasOwnProperty(t)?jt(Dt[t]):"transparent"===t?new It(NaN,NaN,NaN,0):null}function jt(t){return new It(t>>16&255,t>>8&255,255&t,1)}function Tt(t,e,n,r){return r<=0&&(t=e=n=NaN),new It(t,e,n,r)}function Rt(t,e,n,r){return 1===arguments.length?((o=t)instanceof yt||(o=At(o)),o?new It((o=o.rgb()).r,o.g,o.b,o.opacity):new It):new It(t,e,n,null==r?1:r);var o}function It(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nt(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function qt(){const t=$t(this.opacity);return`${1===t?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${1===t?")":`, ${t})`}`}function $t(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ht(t){return((t=Xt(t))<16?"0":"")+t.toString(16)}function zt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yt(t,e,n,r)}function Zt(t){if(t instanceof Yt)return new Yt(t.h,t.s,t.l,t.opacity);if(t instanceof yt||(t=At(t)),!t)return new Yt;if(t instanceof Yt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Yt(a,s,u,t.opacity)}function Yt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bt(t){return(t=(t||0)%360)<0?t+360:t}function Ft(t){return Math.max(0,Math.min(1,t||0))}function Wt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Lt(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}pt(yt,At,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_t,formatHex:_t,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Zt(this).formatHsl()},formatRgb:Et,toString:Et}),pt(It,Rt,dt(yt,{brighter(t){return t=null==t?mt:Math.pow(mt,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?vt:Math.pow(vt,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(Xt(this.r),Xt(this.g),Xt(this.b),$t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nt,formatHex:Nt,formatHex8:function(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:qt,toString:qt})),pt(Yt,(function(t,e,n,r){return 1===arguments.length?Zt(t):new Yt(t,e,n,null==r?1:r)}),dt(yt,{brighter(t){return t=null==t?mt:Math.pow(mt,t),new Yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?vt:Math.pow(vt,t),new Yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new It(Wt(t>=240?t-240:t+120,o,r),Wt(t,o,r),Wt(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Yt(Bt(this.h),Ft(this.s),Ft(this.l),$t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$t(this.opacity);return`${1===t?"hsl(":"hsla("}${Bt(this.h)}, ${100*Ft(this.s)}%, ${100*Ft(this.l)}%${1===t?")":`, ${t})`}`}}));const Ut=t=>()=>t;function Vt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ut(isNaN(t)?e:t)}const Gt=function t(e){var n=function(t){return 1===(t=+t)?Vt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ut(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Rt(t)).r,(e=Rt(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=Vt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Kt(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Rt(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}function Qt(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=ae(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function Jt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function te(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ee(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ae(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}Kt((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return Lt((n-r/e)*e,a,o,i,s)}})),Kt((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Lt((n-r/e)*e,o,i,a,s)}}));var ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ne.source,"g");function oe(t,e){var n,r,o,i=ne.lastIndex=re.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=ne.exec(t))&&(r=re.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:te(n,r)})),i=re.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function ie(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function ae(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?Ut(e):("number"===o?te:"string"===o?(n=At(e))?(e=n,Gt):oe:e instanceof At?Gt:e instanceof Date?Jt:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Qt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ee:te:ie))(t,e)}function se(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ue(t){return+t}var ce=[0,1];function le(t){return t}function he(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function fe(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=he(o,r),i=n(a,i)):(r=he(r,o),i=n(i,a)),function(t){return i(r(t))}}function pe(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=he(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=ft(t,e,1,r)-1;return i[n](o[n](e))}}var de,ye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ve(t){if(!(e=ye.exec(t)))throw new Error("invalid format: "+t);var e;return new me({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function me(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ge(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function be(t){return(t=ge(Math.abs(t)))?t[1]:NaN}function we(t,e){var n=ge(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}ve.prototype=me.prototype,me.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Pe={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>we(100*t,e),r:we,s:function(t,e){var n=ge(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(de=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ge(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xe(t){return t}var Ce,Se,Oe,ke=Array.prototype.map,Me=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function De(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[o,i,a]=r?ot(e,t,n):ot(t,e,n);if(!(i>=o))return[];const s=i-o+1,u=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)u[t]=(i-t)/-a;else for(let t=0;t<s;++t)u[t]=(i-t)*a;else if(a<0)for(let t=0;t<s;++t)u[t]=(o+t)/-a;else for(let t=0;t<s;++t)u[t]=(o+t)*a;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var o,i=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),o=r?it(e,t,n):it(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}(t,e,n);switch((r=ve(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(be(e)/3)))-be(Math.abs(t)))}(i,a))||(r.precision=o),Oe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,be(e)-be(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-be(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Se(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,u=i[a],c=i[s],l=10;for(c<u&&(o=u,u=c,c=o,o=a,a=s,s=o);l-- >0;){if((o=it(u,c,n))===r)return i[a]=u,i[s]=c,e(i);if(o>0)u=Math.floor(u/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;u=Math.ceil(u*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,je(r.key),r)}}function je(t){var e=function(t){if("object"!=_e(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_e(e)?e:e+""}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Te=function(){return!!t})()}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ie(t,e)}Ce=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?xe:(e=ke.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?xe:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ke.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ve(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,y=t.comma,v=t.precision,m=t.trim,g=t.type;"n"===g?(y=!0,g="g"):Pe[g]||(void 0===v&&(v=12),m=!0,g="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?o:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w="$"===f?i:/[%p]/.test(g)?u:"",P=Pe[g],x=/[defgprs%]/.test(g);function C(t){var o,i,u,f=b,C=w;if("c"===g)C=P(t)+C,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:P(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:c:"-"===h||"("===h?"":h)+f,C=("s"===g?Me[8+de/3]:"")+C+(S&&"("===h?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(u=t.charCodeAt(o))||u>57){C=(46===u?a+t.slice(o+1):t.slice(o))+C,t=t.slice(0,o);break}}y&&!p&&(t=r(t,1/0));var O=f.length+t.length+C.length,k=O<d?new Array(d-O+1).join(e):"";switch(y&&p&&(t=r(k+t,k.length?d-C.length:1/0),k=""),n){case"<":t=f+t+C+k;break;case"=":t=f+k+t+C;break;case"^":t=k.slice(0,O=k.length>>1)+f+t+C+k.slice(O);break;default:t=k+f+t+C}return s(t)}return v=void 0===v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),C.toString=function(){return t+""},C}return{format:h,formatPrefix:function(t,e){var n=h(((t=ve(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(be(e)/3))),o=Math.pow(10,-r),i=Me[8+r/3];return function(t){return n(o*t)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),Se=Ce.format,Oe=Ce.formatPrefix;var Ne=function(t){function n(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(t,e,n){return e=Re(e),function(t,e){if(e&&("object"==_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Te()?Reflect.construct(e,n||[],Re(t).constructor):e.apply(t,n))}(this,n,[t,e])).yScale=r.yScale.bind(r),r.listener=r.listener.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(n,t),r=n,o=[{key:"UNSAFE_componentWillMount",value:function(){var t=this.props.id;(0,this.context.subscribe)("chart_"+t,{listener:this.listener})}},{key:"componentWillUnmount",value:function(){var t=this.props.id;(0,this.context.unsubscribe)("chart_"+t)}},{key:"listener",value:function(t,e,n,r){var o=this.props,i=o.id,a=o.onContextMenu;"contextmenu"===t&&e.currentCharts.indexOf(i)>-1&&a(e,r)}},{key:"yScale",value:function(){var t=this;return D(this.context.chartConfig,(function(e){return e.id===t.props.id})).yScale.copy()}},{key:"getChildContext",value:function(){var t=this.props.id,e=D(this.context.chartConfig,(function(e){return e.id===t}));return{chartId:t,chartConfig:e}}},{key:"render",value:function(){var t=this,n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ee(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(D(this.context.chartConfig,(function(e){return e.id===t.props.id})).origin,2),r=n[0],o=n[1];return e().createElement("g",{transform:"translate(".concat(r,", ").concat(o,")")},this.props.children)}}],o&&Ae(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(S);Ne.propTypes={height:i().number,origin:i().oneOfType([i().array,i().func]),id:i().oneOfType([i().number,i().string]).isRequired,yExtents:i().oneOfType([i().array,i().func]),yExtentsCalculator:function(t,e,n){if(z(t.yExtents)&&"function"!=typeof t.yExtentsCalculator)return new Error("yExtents or yExtentsCalculator must"+" be present on ".concat(n,". Validation failed."))},onContextMenu:i().func,yScale:i().func,flipYScale:i().bool,padding:i().oneOfType([i().number,i().shape({top:i().number,bottom:i().number})]),children:i().node},Ne.defaultProps={id:0,origin:[0,0],padding:0,yScale:function t(){var e=function(){var t,e,n,r,o,i,a=ce,s=ce,u=ae,c=le;function l(){var t,e,n,u=Math.min(a.length,s.length);return c!==le&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?pe:fe,o=i=null,h}function h(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((i||(i=r(s,a.map(t),te)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ue),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=se,l()},h.clamp=function(t){return arguments.length?(c=!!t||le,l()):c!==le},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}()(le,le);return e.copy=function(){return n=e,t().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},h.apply(e,arguments),De(e)}(),flipYScale:!1,yPan:!0,yPanEnabled:!1,onContextMenu:d},Ne.contextTypes={chartConfig:i().array,subscribe:i().func.isRequired,unsubscribe:i().func.isRequired},Ne.childContextTypes={chartConfig:i().object.isRequired,chartId:i().oneOfType([i().number,i().string]).isRequired};const qe=Ne;function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){ze(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ze(t,e,n){return(e=function(t){var e=function(t){if("object"!=$e(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$e(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ye(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Be(t){if(Array.isArray(t)&&2===t.length){var e=Ze(t,2),n=e[0],r=e[1];return"number"==typeof n&&"number"==typeof r}return!1}function Fe(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e().Children.map(n,(function(e){if(e&&e.type.toString()===qe.toString()){var n=He(He({},qe.defaultProps),e.props),o=n.id,i=n.origin,a=n.padding,s=n.yExtents,u=n.yScale,c=n.flipYScale,l=n.yExtentsCalculator,h=u.copy(),f=function(t,e){var n=t.width,r=t.height;return{availableHeight:r,width:n,height:e.height||r}}(t,n),p=f.width,d=f.height,y=f.availableHeight,v=n.yPan,g=n.yPanEnabled,b=H(s)?(Array.isArray(s)?s:[s]).map(M):void 0,w=D(r,(function(t){return t.id===o}));if(Be(s))if(H(w)&&w.yPan&&w.yPanEnabled&&v&&g&&m(w.originalYExtentsProp,s))h.domain(w.yScale.domain());else{var P=Ze(s,2),x=P[0],C=P[1];h.domain([x,C])}else H(w)&&w.yPanEnabled&&(Be(w.originalYExtentsProp)||(h.domain(w.yScale.domain()),g=!0));return{id:o,origin:M(i)(p,y),padding:a,originalYExtentsProp:s,yExtents:b,yExtentsCalculator:l,flipYScale:c,yScale:h,yPan:v,yPanEnabled:g,width:p,height:d}}})).filter((function(t){return H(t)}))}function We(t,e){return t.filter((function(t){var n=t.origin[1],r=n+t.height;return e[1]>n&&e[1]<r})).map((function(t){return t.id}))}function Le(t,e,n,r,o){var i=e.plotData,u=e.xAccessor,c=e.displayXAccessor,l=e.fullData,h=t.map((function(t){var e=t.yExtentsCalculator,o=t.yExtents,s=t.yScale,h=H(e)?e({plotData:i,xDomain:n,xAccessor:u,displayXAccessor:c,fullData:l}):function(t,e,n){var r=t.map((function(t){return n.map((e=t,function(t){var n=e(t);return function(t){return H(t)&&"object"===O(t)&&!Array.isArray(t)}(n)?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=Object.keys(t),r=new Array(n.length);return n.forEach((function(n,o){r[o]=e(t[n],n,t)})),r}(n):n}));var e})),o=tt()(r);return e.invert?a(o):Q(o).values()}(o,s,i);return{realYDomain:h,yDomainDY:H(r)?s.range().map((function(t){return t-r})).map(s.invert):s.domain(),prevYDomain:s.domain()}})),f=function(){var t=y;function e(){var e=arguments.length;if(!e)return[];var r,o=s(arguments,n),i=new Array(o);for(r=-1;++r<o;){for(var a=-1,u=i[r]=new Array(e);++a<e;)u[a]=arguments[a][r];i[r]=t.apply(this,i[r])}return i}function n(t){return t.length}return e.combine=function(n){return arguments.length?(t=n,e):t},e}().combine((function(t,e){var n=e.realYDomain,r=e.yDomainDY,i=e.prevYDomain,a=t.id,s=t.padding,u=t.height,c=t.yScale,l=t.yPan,h=t.flipYScale,f=t.yPanEnabled,p=void 0!==f&&f,d=!H(o)||o.indexOf(a)>-1,y=l&&p?d?r:i:n,v=function(t,e,n,r){if(t.rangeRoundPoints||z(t.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints&&t.rangeRoundPoints(r?[0,e]:[e,0],n),t.rangeRound&&t.range(r?[0,e]:[e,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;t.range(r?[i,e-a]:[e-a,i])}return t}(c.copy().domain(y),u,s,h);return He(He({},t),{},{yScale:v,realYDomain:n})}));return f(t,h)}function Ue(t,e,n,r){var o;if(t.invert)o=function(t,e,n){var r=q(t,e,n),o=r.left,i=r.right;if(o===i)return t[o];var a=Math.abs(n(t[o])-e)<Math.abs(n(t[i])-e)?t[o]:t[i];return a}(r,t.invert(n[0]),e);else{var i=t.range().map((function(t,e){return{x:Math.abs(t-n[0]),idx:e}})).reduce((function(t,e){return t.x<e.x?t:e}));o=H(i)?r[i.idx]:r[0]}return o}function Ve(){}function Ge(t){return null==t?Ve:function(){return this.querySelector(t)}}function Ke(){return[]}function Qe(t){return function(e){return e.matches(t)}}var Je=Array.prototype.find;function tn(){return this.firstElementChild}var en=Array.prototype.filter;function nn(){return Array.from(this.children)}function rn(t){return new Array(t.length)}function on(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function an(t,e,n,r,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new on(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function sn(t,e,n,r,o,i,a){var s,u,c,l=new Map,h=e.length,f=i.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?o[s]=u:l.set(c,u));for(s=0;s<f;++s)c=a.call(t,i[s],s,i)+"",(u=l.get(c))?(r[s]=u,u.__data__=i[s],l.delete(c)):n[s]=new on(t,i[s]);for(s=0;s<h;++s)(u=e[s])&&l.get(p[s])===u&&(o[s]=u)}function un(t){return t.__data__}function cn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ln(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}on.prototype={constructor:on,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var hn="http://www.w3.org/1999/xhtml";const fn={svg:"http://www.w3.org/2000/svg",xhtml:hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),fn.hasOwnProperty(e)?{space:fn[e],local:t}:t}function dn(t){return function(){this.removeAttribute(t)}}function yn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vn(t,e){return function(){this.setAttribute(t,e)}}function mn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pn(t){return function(){this.style.removeProperty(t)}}function xn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Cn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Sn(t){return function(){delete this[t]}}function On(t,e){return function(){this[t]=e}}function kn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Mn(t){return t.trim().split(/^|\s+/)}function Dn(t){return t.classList||new _n(t)}function _n(t){this._node=t,this._names=Mn(t.getAttribute("class")||"")}function En(t,e){for(var n=Dn(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function An(t,e){for(var n=Dn(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function jn(t){return function(){En(this,t)}}function Tn(t){return function(){An(this,t)}}function Rn(t,e){return function(){(e.apply(this,arguments)?En:An)(this,t)}}function In(){this.textContent=""}function Nn(t){return function(){this.textContent=t}}function qn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $n(){this.innerHTML=""}function Xn(t){return function(){this.innerHTML=t}}function Hn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zn(){this.nextSibling&&this.parentNode.appendChild(this)}function Zn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===hn&&e.documentElement.namespaceURI===hn?e.createElement(t):e.createElementNS(n,t)}}function Bn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fn(t){var e=pn(t);return(e.local?Bn:Yn)(e)}function Wn(){return null}function Ln(){var t=this.parentNode;t&&t.removeChild(this)}function Un(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gn(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function Kn(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Qn(t,e,n){var r=wn(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Jn(t,e){return function(){return Qn(this,t,e)}}function tr(t,e){return function(){return Qn(this,t,e.apply(this,arguments))}}_n.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var er=[null];function nr(t,e){this._groups=t,this._parents=e}function rr(t){return"string"==typeof t?new nr([[document.querySelector(t)]],[document.documentElement]):new nr([[t]],er)}function or(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ir(t,e){if(t=or(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function sr(){return sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sr.apply(null,arguments)}function ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lr(r.key),r)}}function lr(t){var e=function(t){if("object"!=ar(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ar(e)?e:e+""}function hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hr=function(){return!!t})()}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fr(t)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}nr.prototype=function(){return new nr([[document.documentElement]],er)}.prototype={constructor:nr,select:function(t){"function"!=typeof t&&(t=Ge(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],u=s.length,c=r[o]=new Array(u),l=0;l<u;++l)(i=s[l])&&(a=t.call(i,i.__data__,l,s))&&("__data__"in i&&(a.__data__=i.__data__),c[l]=a);return new nr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):function(t){return null==t?Ke:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),o.push(a));return new nr(r,o)},selectChild:function(t){return this.select(null==t?tn:function(t){return function(){return Je.call(this.children,t)}}("function"==typeof t?t:Qe(t)))},selectChildren:function(t){return this.selectAll(null==t?nn:function(t){return function(){return en.call(this.children,t)}}("function"==typeof t?t:Qe(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new nr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,un);var n,r=e?sn:an,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=o[l],f=i[l],p=f.length,d=cn(t.call(h,h&&h.__data__,l,o)),y=d.length,v=u[l]=new Array(y),m=s[l]=new Array(y);r(h,f,v,m,c[l]=new Array(p),d,e);for(var g,b,w=0,P=0;w<y;++w)if(g=v[w]){for(w>=P&&(P=w+1);!(b=m[P])&&++P<y;);g._next=b||null}}return(s=new nr(s,o))._enter=u,s._exit=c,s},enter:function(){return new nr(this._enter||this._groups.map(rn),this._parents)},exit:function(){return new nr(this._exit||this._groups.map(rn),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var c,l=n[u],h=r[u],f=l.length,p=s[u]=new Array(f),d=0;d<f;++d)(c=l[d]||h[d])&&(p[d]=c);for(;u<o;++u)s[u]=n[u];return new nr(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ln);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new nr(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=pn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?yn:dn:"function"==typeof e?n.local?bn:gn:n.local?mn:vn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Pn:"function"==typeof e?Cn:xn)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||wn(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Sn:"function"==typeof e?kn:On)(t,e)):this.node()[t]},classed:function(t,e){var n=Mn(t+"");if(arguments.length<2){for(var r=Dn(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Rn:e?jn:Tn)(n,e))},text:function(t){return arguments.length?this.each(null==t?In:("function"==typeof t?qn:Nn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$n:("function"==typeof t?Hn:Xn)(t)):this.node().innerHTML},raise:function(){return this.each(zn)},lower:function(){return this.each(Zn)},append:function(t){var e="function"==typeof t?t:Fn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Fn(t),r=null==e?Wn:"function"==typeof e?e:Ge(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ln)},clone:function(t){return this.select(t?Vn:Un)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?Kn:Gn,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?tr:Jn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var dr=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e,n){return e=fr(e),function(t,e){if(e&&("object"==ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hr()?Reflect.construct(e,n||[],fr(t).constructor):e.apply(t,n))}(this,n,[t])).handleEnter=e.handleEnter.bind(e),e.handleLeave=e.handleLeave.bind(e),e.handleWheel=e.handleWheel.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handlePanEnd=e.handlePanEnd.bind(e),e.handlePan=e.handlePan.bind(e),e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchMove=e.handleTouchMove.bind(e),e.handlePinchZoom=e.handlePinchZoom.bind(e),e.handlePinchZoomEnd=e.handlePinchZoomEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.handleRightClick=e.handleRightClick.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.shouldPan=e.shouldPan.bind(e),e.canPan=e.canPan.bind(e),e.setCursorClass=e.setCursorClass.bind(e),e.saveNode=e.saveNode.bind(e),e.mouseInside=!1,e.mouseInteraction=!0,e.state={panInProgress:!1},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(n,t),r=n,o=[{key:"saveNode",value:function(t){this.node=t}},{key:"UNSAFE_componentWillMount",value:function(){this.focus=this.props.focus}},{key:"componentDidMount",value:function(){this.node&&rr(this.node).on(E,this.handleEnter).on(A,this.handleLeave)}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){this.node&&(rr(this.node).on(E,null).on(A,null),rr(_(this.node)).on(j,null))}},{key:"handleEnter",value:function(t){var e=this.props.onMouseEnter;this.mouseInside=!0,this.state.panInProgress||this.state.dragInProgress||rr(_(this.node)).on(j,this.handleMouseMove),e(t)}},{key:"handleLeave",value:function(t){var e=this.props.onMouseLeave;this.mouseInside=!1,this.state.panInProgress||this.state.dragInProgress||rr(_(this.node)).on(j,null),e(t)}},{key:"handleWheel",value:function(t){var e=this.props,n=e.zoom,r=e.onZoom,o=this.state.panInProgress,i=Math.abs(t.deltaY)>Math.abs(t.deltaX)&&Math.abs(t.deltaY)>0,a=Y(t);if(t.preventDefault(),n&&this.focus&&i&&!o)r(t.deltaY>0?1:-1,a,t);else if(this.focus){if(this.shouldPan()){var s=this.state.panStart,u=s.panStartXScale,c=s.chartsToPan;this.lastNewPos=a,this.panHappened=!0,this.dx+=t.deltaX,this.dy+=t.deltaY;var l={dx:this.dx,dy:this.dy};this.props.onPan(a,u,l,c,t)}else{var h=this.props,f=h.xScale,p=We(h.chartConfig,a);this.dx=0,this.dy=0,this.setState({panInProgress:!0,panStart:{panStartXScale:f,panOrigin:a,chartsToPan:p}})}this.queuePanEnd()}}},{key:"queuePanEnd",value:function(){var t=this;H(this.panEndTimeout)&&clearTimeout(this.panEndTimeout),this.panEndTimeout=setTimeout((function(){t.handlePanEnd()}),100)}},{key:"handleMouseMove",value:function(t){if(this.mouseInteraction&&this.props.mouseMove&&!this.state.panInProgress){var e=ir(t,this.node);this.props.onMouseMove(e,"mouse",t)}}},{key:"handleClick",value:function(t){var e=this,n=Y(t),r=this.props,o=r.onClick,i=r.onDoubleClick;this.panHappened||this.dragHappened||(this.clicked?(i(n,t),this.clicked=!1):(o(n,t),this.clicked=!0,setTimeout((function(){e.clicked&&(e.clicked=!1)}),400)))}},{key:"handleRightClick",value:function(t){t.stopPropagation(),t.preventDefault();var e=this.props,n=e.onContextMenu,r=e.onPanEnd,o=Y(t,this.node.getBoundingClientRect());if(H(this.state.panStart)){var i=this.state.panStart,a=i.panStartXScale,s=i.panOrigin,u=i.chartsToPan;this.panHappened&&r(o,a,s,u,t),rr(_(this.node)).on(j,null).on(T,null),this.setState({panInProgress:!1,panStart:null})}n(o,t)}},{key:"handleDrag",value:function(t){if(this.props.onDrag){this.dragHappened=!0;var e=ir(t,this.node);this.props.onDrag({startPos:this.state.dragStartPosition,mouseXY:e},t)}}},{key:"cancelDrag",value:function(){rr(_(this.node)).on(j,this.mouseInside?this.handleMouseMove:null).on(T,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"handleDragEnd",value:function(t){var e=ir(t,this.node);rr(_(this.node)).on(j,this.mouseInside?this.handleMouseMove:null).on(T,null),this.dragHappened&&this.props.onDragComplete({mouseXY:e},t),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"canPan",value:function(){var t=this.props.getAllPanConditions,e=this.props.pan,n=t().reduce((function(t,e){return{draggable:t.draggable||e.draggable,panEnabled:t.panEnabled&&e.panEnabled}}),{draggable:!1,panEnabled:e});return{panEnabled:n.panEnabled,somethingSelected:n.draggable}}},{key:"handleMouseDown",value:function(t){if(0===t.button){var e=this.props,n=e.xScale,r=e.chartConfig,o=e.onMouseDown;if(this.panHappened=!1,this.dragHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){var i=Y(t),a=We(r,i),s=this.canPan(),u=s.panEnabled,c=s.somethingSelected,l=u&&!c;l?(this.setState({panInProgress:l,panStart:{panStartXScale:n,panOrigin:i,chartsToPan:a}}),rr(_(this.node)).on(j,this.handlePan).on(T,this.handlePanEnd)):c&&(this.setState({panInProgress:!1,dragInProgress:!0,panStart:null,dragStartPosition:i}),this.props.onDragStart({startPos:i},t),rr(_(this.node)).on(j,this.handleDrag).on(T,this.handleDragEnd)),o(i,a,t)}t.preventDefault()}}},{key:"shouldPan",value:function(){var t=this.props,e=t.pan,n=t.onPan;return e&&n&&H(this.state.panStart)}},{key:"handlePan",value:function(t){var e=ir(t,this.node);this.props.onPan&&this.props.onPan(e,t)}},{key:"handlePanEnd",value:function(t){var e=this.props,n=e.pan,r=e.onPanEnd;if(H(this.state.panStart)){var o=this.state.panStart,i=o.panStartXScale,a=o.chartsToPan;if(rr(_(this.node)).on(j,this.mouseInside?this.handleMouseMove:null).on(T,null).on(R,null).on(I,null),this.panHappened&&n&&r){var s=this.dx,u=this.dy;delete this.dx,delete this.dy,r(this.lastNewPos,i,{dx:s,dy:u},a,t)}this.setState({panInProgress:!1,panStart:null})}}},{key:"handleTouchMove",value:function(t){(0,this.props.onMouseMove)(Z(N(t.touches[0]),t),"touch",t)}},{key:"handleTouchStart",value:function(t){this.mouseInteraction=!1;var e=this.props,n=e.pan,r=e.chartConfig,o=e.onMouseMove,i=this.props,a=i.xScale,s=i.onPanEnd;if(1===t.touches.length){this.panHappened=!1;var u=Z(N(t.touches[0]),t);if(o(u,"touch",t),n){var c=We(r,u);this.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:u,chartsToPan:c}}),rr(_(this.node)).on(R,this.handlePan,!1).on(I,this.handlePanEnd,!1)}}else if(2===t.touches.length){var l=this.state,h=l.panInProgress,f=l.panStart;if(h&&n&&s){var p=f.panStartXScale,d=f.panOrigin,y=f.chartsToPan;rr(_(this.node)).on(j,this.mouseInside?this.handleMouseMove:null).on(T,null).on(R,this.handlePinchZoom,!1).on(I,this.handlePinchZoomEnd,!1);var v=Z(N(t.touches[0]),t),m=Z(N(t.touches[1]),t);this.panHappened&&n&&s&&s(this.lastNewPos,p,d,y,t),this.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:v,touch2Pos:m,range:a.range(),chartsToPan:y}})}}}},{key:"handlePinchZoom",value:function(t){var e,n,r=this.props.onPinchZoom,o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ur(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((e=t,n=this.node,e.target&&(e=or(e),void 0===n&&(n=e.currentTarget),e=e.touches||[e]),Array.from(e,(t=>ir(t,n)))),2),i=o[0],a=o[1];this.pinchZoomStart&&r(this.pinchZoomStart,{touch1Pos:i,touch2Pos:a,prevTouch1Pos:this.pinchZoomStart.touch1Pos,prevTouch2Pos:this.pinchZoomStart.touch2Pos},t)}},{key:"handlePinchZoomEnd",value:function(t){var e=ir(t,this.node);this.pinchHappened&&this.props.onPinchZoomComplete(e,t),this.pinchZoomStart=null,this.pinchHappened=!1}},{key:"setCursorClass",value:function(t){t!==this.state.cursorOverrideClass&&this.setState({cursorOverrideClass:t})}},{key:"render",value:function(){var t=this.props,n=t.height,r=t.width,o=t.disableInteraction,i=t.useCrossHairStyleCursor,a=null!=this.state.cursorOverrideClass?this.state.cursorOverrideClass:i?this.state.panInProgress?"react-stockcharts-grabbing-cursor":"react-stockcharts-crosshair-cursor":"",s=o||{onWheel:this.handleWheel,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return e().createElement("rect",sr({ref:this.saveNode,className:a,width:r,height:n,style:{opacity:0}},s))}}],o&&cr(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);dr.propTypes={mouseMove:i().bool.isRequired,zoom:i().bool.isRequired,pan:i().bool.isRequired,panSpeedMultiplier:i().number.isRequired,focus:i().bool.isRequired,useCrossHairStyleCursor:i().bool.isRequired,width:i().number.isRequired,height:i().number.isRequired,chartConfig:i().array,xScale:i().func.isRequired,xAccessor:i().func.isRequired,disableInteraction:i().bool.isRequired,getAllPanConditions:i().func.isRequired,onMouseMove:i().func,onMouseEnter:i().func,onMouseLeave:i().func,onZoom:i().func,onPinchZoom:i().func,onPinchZoomEnd:i().func.isRequired,onPan:i().func,onPanEnd:i().func,onDragStart:i().func,onDrag:i().func,onDragComplete:i().func,onClick:i().func,onDoubleClick:i().func,onContextMenu:i().func,onMouseDown:i().func,children:i().node},dr.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,onDragComplete:d,disableInteraction:!1};const yr=dr;function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gr(r.key),r)}}function gr(t){var e=function(t){if("object"!=vr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vr(e)?e:e+""}function br(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(br=function(){return!!t})()}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}var xr=k(),Cr=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e,n){return e=wr(e),function(t,e){if(e&&("object"==vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,br()?Reflect.construct(e,n||[],wr(t).constructor):e.apply(t,n))}(this,n,[t])).setDrawCanvas=e.setDrawCanvas.bind(e),e.drawCanvas={},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(n,t),r=n,(o=[{key:"setDrawCanvas",value:function(t){H(t)?this.drawCanvas[t.id]=t.getContext("2d"):this.drawCanvas={}}},{key:"getCanvasContexts",value:function(){if(H(this.drawCanvas.axes))return this.drawCanvas}},{key:"render",value:function(){var t=this.props,n=t.height,r=t.width,o=t.type,i=t.zIndex,a=t.ratio;return"svg"===o?null:(xr("using ratio ",a),e().createElement("div",{style:{position:"absolute",zIndex:i}},e().createElement("canvas",{id:"bg",ref:this.setDrawCanvas,width:r*a,height:n*a,style:{position:"absolute",width:r,height:n}}),e().createElement("canvas",{id:"axes",ref:this.setDrawCanvas,width:r*a,height:n*a,style:{position:"absolute",width:r,height:n}}),e().createElement("canvas",{id:"mouseCoord",ref:this.setDrawCanvas,width:r*a,height:n*a,style:{position:"absolute",width:r,height:n}})))}}])&&mr(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);Cr.propTypes={width:i().number.isRequired,height:i().number.isRequired,type:i().string.isRequired,zIndex:i().number,ratio:i().number.isRequired};const Sr=Cr;function Or(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var kr=k();function Mr(t,e,n,r){var o,i,a=t.lastItem,s=t.lastItemX,u=e(a),c=(o=n.range(),i=2,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(t,e){if(t){if("string"==typeof t)return Or(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0];return(c[1]-l)/(s-l)*(u-r)+r}function Dr(t,e){return Math.floor(t*e)}function _r(t,e,n,r){var o=q(t,e,r).right,i=q(t,n,r).left;return t.slice(o,i+1)}var Er=["fullData"],Ar=["fullData"];function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Tr(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yr(r.key),r)}}function Ir(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ir=function(){return!!t})()}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}function qr(t,e){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qr(t,e)}function $r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(n),!0).forEach((function(e){Zr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zr(t,e,n){return(e=Yr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t){var e=function(t){if("object"!=jr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jr(e)?e:e+""}k();var Br=["seriesName"];function Fr(t){return{height:t.height-t.margin.top-t.margin.bottom,width:t.width-t.margin.left-t.margin.right}}function Wr(t){return t?-1:1}function Lr(t){var e=t.data,n=t.plotFull,r=t.xScale,o=t.clamp,i=t.pointsPerPxThreshold,a=t.flipXScale,s=t.xAccessor,u=t.displayXAccessor,c=t.minPointsPerPxThreshold,l=function(t){var e=t.clamp,n=t.pointsPerPxThreshold,r=t.minPointsPerPxThreshold,o=t.flipXScale;return function(t,e,n,r,o){return{filterData:function(i,a,s,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=c.currentPlotData,h=c.currentDomain,f=c.fallbackStart,p=c.fallbackEnd;if(t)return{plotData:i,domain:a};var d=$(a),y=X(a),v=a,m=_r(i,d,y,s);1===m.length&&H(f)&&(v=[d=f,y=Mr(p,s,u,d)],m=_r(i,d,y,s)),"function"==typeof e?v=e(v,[s($(i)),s(X(i))]):("left"!==e&&"both"!==e&&!0!==e||(v=[Math.max(d,s($(i))),v[1]]),"right"!==e&&"both"!==e&&!0!==e||(v=[v[0],Math.min(y,s(X(i)))])),v!==a&&(m=_r(i,v[0],v[1],s));var g,b,w=v,P=u.copy().domain(w),x=Math.floor(P(s(X(m)))-P(s($(m))));o&&x<0&&(x*=-1);var C=X(P.range())-$(P.range());if(kr("Trying to show ".concat(m.length," points in ").concat(x,"px,")+" I can show up to ".concat(Dr(x,n)-1," points in that width. ")+"Also FYI the entire chart width is ".concat(C,"px and pointsPerPxThreshold is ").concat(n)),function(t,e,n,r){return e>function(t,e){return Math.max(1,Math.ceil(t*e))}(t,r)&&e<Dr(t,n)}(x,m.length,n,r))g=m,b=w,kr("AND IT WORKED");else if(C>Dr(x,n)&&H(p)){g=m;var S=Mr(p,s,u,$(w));b=[$(w),S];var O=P.copy().domain(b),k=Math.floor(O(s(X(g)))-O(s($(g))));kr("and ouch, that is too much, so instead showing ".concat(g.length," in ").concat(k,"px"))}else{g=l||m.slice(m.length-function(t,e){return Math.floor(.97*Dr(t,e))}(x,n)),b=h||[s($(g)),s(X(g))];var M=P.copy().domain(b),D=Math.floor(M(s(X(g)))-M(s($(g))));kr("and ouch, that is too much, so instead showing ".concat(g.length," in ").concat(D,"px"))}return{plotData:g,domain:b}}}}(t.useWholeData||z(t.xScale.invert),e,n,r,o)}({xScale:r,useWholeData:H(n)?n:s===y,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:c,flipXScale:a}),h=l.filterData;return{xAccessor:s,displayXAccessor:u||s,xScale:r.copy(),fullData:e,filterData:h}}function Ur(t){var e=function(t){var e=t.xAccessor,n=t.xExtents,r=t.data,o=t.padding,i=Wr(t.flipXScale),s=Fr(t),u="function"==typeof n?n(r):a(n.map((function(t){return M(t)})).map((function(t){return t(r,e)}))),c=Lr(t),l=c.xAccessor,h=c.displayXAccessor,f=c.xScale,p=c.fullData,d=c.filterData,y=Vr(f,s,o,i),v=d(p,u,e,y),m=v.plotData,g=v.domain;return{plotData:m,xScale:y.domain(g),xAccessor:l,displayXAccessor:h,fullData:p,filterData:d}}(t),n=e.xAccessor,r=e.displayXAccessor,o=e.fullData,i=e.plotData,s=e.xScale,u=t.postCalculator,c=t.children,l=u(i),h=Le(Fe(Fr(t),c),{plotData:l,xAccessor:n,displayXAccessor:r,fullData:o},s.domain());return zr(zr({},e),{},{xScale:s,plotData:l,chartConfig:h})}function Vr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(t.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints([0,e.width],n)}else if(t.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.range([0,e.width]),t.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?t.range([i,e.width-a]):t.range([e.width-a,i])}return t}function Gr(t){var e=t.touch1Pos,n=t.touch2Pos;return{topLeft:[Math.min(e[0],n[0]),Math.min(e[1],n[1])],bottomRight:[Math.max(e[0],n[0]),Math.max(e[1],n[1])]}}var Kr=function(t){function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,e,n){return e=Nr(e),function(t,e){if(e&&("object"==jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ir()?Reflect.construct(e,n||[],Nr(t).constructor):e.apply(t,n))}(this,n)).getDataInfo=t.getDataInfo.bind(t),t.getCanvasContexts=t.getCanvasContexts.bind(t),t.handleMouseMove=t.handleMouseMove.bind(t),t.handleMouseEnter=t.handleMouseEnter.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleZoom=t.handleZoom.bind(t),t.handlePinchZoom=t.handlePinchZoom.bind(t),t.handlePinchZoomEnd=t.handlePinchZoomEnd.bind(t),t.handlePan=t.handlePan.bind(t),t.handlePanEnd=t.handlePanEnd.bind(t),t.handleClick=t.handleClick.bind(t),t.handleMouseDown=t.handleMouseDown.bind(t),t.handleDoubleClick=t.handleDoubleClick.bind(t),t.handleContextMenu=t.handleContextMenu.bind(t),t.handleDragStart=t.handleDragStart.bind(t),t.handleDrag=t.handleDrag.bind(t),t.handleDragEnd=t.handleDragEnd.bind(t),t.panHelper=t.panHelper.bind(t),t.pinchZoomHelper=t.pinchZoomHelper.bind(t),t.xAxisZoom=t.xAxisZoom.bind(t),t.yAxisZoom=t.yAxisZoom.bind(t),t.resetYDomain=t.resetYDomain.bind(t),t.calculateStateForDomain=t.calculateStateForDomain.bind(t),t.generateSubscriptionId=t.generateSubscriptionId.bind(t),t.draw=t.draw.bind(t),t.redraw=t.redraw.bind(t),t.getAllPanConditions=t.getAllPanConditions.bind(t),t.subscriptions=[],t.subscribe=t.subscribe.bind(t),t.unsubscribe=t.unsubscribe.bind(t),t.amIOnTop=t.amIOnTop.bind(t),t.saveEventCaptureNode=t.saveEventCaptureNode.bind(t),t.saveCanvasContainerNode=t.saveCanvasContainerNode.bind(t),t.setCursorClass=t.setCursorClass.bind(t),t.getMutableState=t.getMutableState.bind(t),t.interactiveState=[],t.panInProgress=!1,t.state={},t.mutableState={},t.lastSubscriptionId=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qr(t,e)}(n,t),r=n,o=[{key:"saveEventCaptureNode",value:function(t){this.eventCaptureNode=t}},{key:"saveCanvasContainerNode",value:function(t){this.canvasContainerNode=t}},{key:"getMutableState",value:function(){return this.mutableState}},{key:"getDataInfo",value:function(){return zr(zr({},this.state),{},{fullData:this.fullData})}},{key:"getCanvasContexts",value:function(){if(this.canvasContainerNode)return this.canvasContainerNode.getCanvasContexts()}},{key:"generateSubscriptionId",value:function(){return this.lastSubscriptionId++,this.lastSubscriptionId}},{key:"clearBothCanvas",value:function(){var t=this.getCanvasContexts();t&&t.axes&&B([t.axes,t.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var t=this.getCanvasContexts();t&&t.mouseCoord&&B([t.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var t=this.getCanvasContexts();t&&t.axes&&B([t.axes,t.mouseCoord,t.bg],this.props.ratio)}},{key:"subscribe",value:function(t,e){var n=e.getPanConditions,r=void 0===n?M({draggable:!1,panEnabled:!0}):n;this.subscriptions=this.subscriptions.concat(zr(zr({id:t},e),{},{getPanConditions:r}))}},{key:"unsubscribe",value:function(t){this.subscriptions=this.subscriptions.filter((function(e){return e.id!==t}))}},{key:"getAllPanConditions",value:function(){return this.subscriptions.map((function(t){return t.getPanConditions()}))}},{key:"setCursorClass",value:function(t){null!=this.eventCaptureNode&&this.eventCaptureNode.setCursorClass(t)}},{key:"amIOnTop",value:function(t){var e=this.subscriptions.filter((function(t){return t.getPanConditions().draggable}));return e.length>0&&X(e).id===t}},{key:"handleContextMenu",value:function(t,e){var n=this.state,r=n.xAccessor,o=n.chartConfig,i=n.plotData,a=n.xScale,s=We(o,t),u=Ue(a,r,t,i);this.triggerEvent("contextmenu",{mouseXY:t,currentItem:u,currentCharts:s},e)}},{key:"calculateStateForDomain",value:function(t){var e=this.state,n=e.xAccessor,r=e.displayXAccessor,o=e.xScale,i=e.chartConfig,a=e.plotData,s=this.state.filterData,u=this.fullData,c=this.props.postCalculator,l=s(u,t,n,o,{currentPlotData:a,currentDomain:o.domain()}),h=l.plotData,f=l.domain,p=c(h),d=o.copy().domain(f),y=Le(i,{plotData:p,xAccessor:n,displayXAccessor:r,fullData:u},d.domain());return{xScale:d,plotData:p,chartConfig:y}}},{key:"pinchZoomHelper",value:function(t,e){var n=t.xScale,r=this.state,o=r.xScale,i=r.chartConfig,a=r.plotData,s=r.xAccessor,u=r.displayXAccessor,c=this.state.filterData,l=this.fullData,h=this.props.postCalculator,f=Gr(t),p=f.topLeft,d=f.bottomRight,y=Gr(e),v=y.topLeft,m=y.bottomRight,g=n.range()[1],b=Math.round(-(d[0]*v[0]-p[0]*m[0])/(p[0]-d[0])),w=Math.round(g+((g-d[0])*(g-v[0])-(g-p[0])*(g-m[0]))/(g-p[0]-(g-d[0]))),P=c(l,[Math.round(-b*p[0]/(-b+v[0])),Math.round(g-(w-g)*(g-p[0])/(w+(g-v[0])))].map(n.invert),s,n,{currentPlotData:a,currentDomain:o.domain()}),x=P.plotData,C=P.domain,S=h(x),O=o.copy().domain(C),k=e.touch1Pos;return{chartConfig:Le(i,{plotData:S,xAccessor:s,displayXAccessor:u,fullData:l},O.domain()),xScale:O,plotData:S,mouseXY:k,currentItem:Ue(O,s,k,S)}}},{key:"cancelDrag",value:function(){this.eventCaptureNode.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"handlePinchZoom",value:function(t,e,n){var r=this;if(!this.waitingForPinchZoomAnimationFrame){this.waitingForPinchZoomAnimationFrame=!0;var o=this.pinchZoomHelper(t,e);this.triggerEvent("pinchzoom",o,n),this.finalPinch=e,requestAnimationFrame((function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1}))}}},{key:"handlePinchZoomEnd",value:function(t,e){var n=this.state.xAccessor;if(this.finalPinch){var r=this.pinchZoomHelper(t,this.finalPinch),o=r.xScale;this.triggerEvent("pinchzoom",r,e),this.finalPinch=null,this.clearThreeCanvas();var i=$(this.fullData),a=$(o.domain()),s=n(i),u=this.props.onLoadMore;this.setState(r,(function(){a<s&&u(a,s)}))}}},{key:"handleZoom",value:function(t,e,n){if(!this.panInProgress){var r=this.state,o=r.xAccessor,i=r.xScale,a=r.plotData,s=this.props,u=s.zoomMultiplier,c=s.zoomAnchor,l=this.fullData,h=i(c({xScale:i,xAccessor:o,mouseXY:e,plotData:a,fullData:l})),f=t>0?1*u:1/u,p=i.range().map((function(t){return h+(t-h)*f})).map(i.invert),d=this.calculateStateForDomain(p),y=d.xScale,v=d.plotData,m=d.chartConfig,g=Ue(y,o,e,v),b=We(m,e);this.clearThreeCanvas();var w=$(l),P=$(y.domain()),x=o(w),C=this.props.onLoadMore;this.mutableState={mouseXY:e,currentItem:g,currentCharts:b},this.triggerEvent("zoom",{xScale:y,plotData:v,chartConfig:m,mouseXY:e,currentCharts:b,currentItem:g,show:!0},n),this.setState({xScale:y,plotData:v,chartConfig:m},(function(){P<x&&C(P,x)}))}}},{key:"xAxisZoom",value:function(t){var e=this.calculateStateForDomain(t),n=e.xScale,r=e.plotData,o=e.chartConfig;this.clearThreeCanvas();var i=this.state.xAccessor,a=$(this.fullData),s=$(n.domain()),u=i(a),c=this.props.onLoadMore;this.setState({xScale:n,plotData:r,chartConfig:o},(function(){s<u&&c(s,u)}))}},{key:"yAxisZoom",value:function(t,e){this.clearThreeCanvas();var n=this.state.chartConfig.map((function(n){if(n.id===t){var r=n.yScale;return zr(zr({},n),{},{yScale:r.copy().domain(e),yPanEnabled:!0})}return n}));this.setState({chartConfig:n})}},{key:"triggerEvent",value:function(t,e,n){var r=this;this.subscriptions.forEach((function(o){var i=zr(zr({},r.state),{},{fullData:r.fullData,subscriptions:r.subscriptions});o.listener(t,e,i,n)}))}},{key:"draw",value:function(t){this.subscriptions.forEach((function(e){H(e.draw)&&e.draw(t)}))}},{key:"redraw",value:function(){this.clearThreeCanvas(),this.draw({force:!0})}},{key:"panHelper",value:function(t,e,n,r){var o=n.dx,i=n.dy,a=this.state,s=a.xAccessor,u=a.displayXAccessor,c=a.chartConfig,l=this.state.filterData,h=this.fullData,f=this.props.postCalculator;if(z(e.invert))throw new Error("xScale provided does not have an invert() method.You are likely using an ordinal scale. This scale does not support zoom, pan");var p=l(h,e.range().map((function(t){return t-o})).map(e.invert),s,e,{currentPlotData:this.hackyWayToStopPanBeyondBounds__plotData,currentDomain:this.hackyWayToStopPanBeyondBounds__domain}),d=p.plotData,y=p.domain,v=e.copy().domain(y),m=f(d),g=Ue(v,s,t,m),b=Le(c,{plotData:m,xAccessor:s,displayXAccessor:u,fullData:h},v.domain(),i,r);return{xScale:v,plotData:m,chartConfig:b,mouseXY:t,currentCharts:We(b,t),currentItem:g}}},{key:"handlePan",value:function(t,e,n,r,o){var i=this;if(!this.waitingForPanAnimationFrame){this.waitingForPanAnimationFrame=!0,this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData||this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain||this.state.xScale.domain();var a=this.panHelper(t,e,n,r);this.hackyWayToStopPanBeyondBounds__plotData=a.plotData,this.hackyWayToStopPanBeyondBounds__domain=a.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",a,o),this.mutableState={mouseXY:a.mouseXY,currentItem:a.currentItem,currentCharts:a.currentCharts},requestAnimationFrame((function(){i.waitingForPanAnimationFrame=!1,i.clearBothCanvas(),i.draw({trigger:"pan"})}))}}},{key:"handlePanEnd",value:function(t,e,n,r,o){var i=this,a=this.panHelper(t,e,n,r);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;var s=a.xScale,u=a.plotData,c=a.chartConfig;this.triggerEvent("panend",a,o),requestAnimationFrame((function(){var t=i.state.xAccessor,e=$(i.fullData),n=$(s.domain()),r=t(e),o=i.props.onLoadMore;i.clearThreeCanvas(),i.setState({xScale:s,plotData:u,chartConfig:c},(function(){n<r&&o(n,r)}))}))}},{key:"handleMouseDown",value:function(t,e,n){this.triggerEvent("mousedown",this.mutableState,n)}},{key:"handleMouseEnter",value:function(t){this.triggerEvent("mouseenter",{show:!0},t)}},{key:"handleMouseMove",value:function(t,e,n){var r=this;if(!this.waitingForMouseMoveAnimationFrame){this.waitingForMouseMoveAnimationFrame=!0;var o=this.state,i=o.chartConfig,a=o.plotData,s=o.xScale,u=o.xAccessor,c=We(i,t),l=Ue(s,u,t,a);this.triggerEvent("mousemove",{show:!0,mouseXY:t,prevMouseXY:this.prevMouseXY,currentItem:l,currentCharts:c},n),this.prevMouseXY=t,this.mutableState={mouseXY:t,currentItem:l,currentCharts:c},requestAnimationFrame((function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1}))}}},{key:"handleMouseLeave",value:function(t){this.triggerEvent("mouseleave",{show:!1},t),this.clearMouseCanvas(),this.draw({trigger:"mouseleave"})}},{key:"handleDragStart",value:function(t,e){var n=t.startPos;this.triggerEvent("dragstart",{startPos:n},e)}},{key:"handleDrag",value:function(t,e){var n=this,r=t.startPos,o=t.mouseXY,i=this.state,a=i.chartConfig,s=i.plotData,u=i.xScale,c=i.xAccessor,l=We(a,o),h=Ue(u,c,o,s);this.triggerEvent("drag",{startPos:r,mouseXY:o,currentItem:h,currentCharts:l},e),this.mutableState={mouseXY:o,currentItem:h,currentCharts:l},requestAnimationFrame((function(){n.clearMouseCanvas(),n.draw({trigger:"drag"})}))}},{key:"handleDragEnd",value:function(t,e){var n=this,r=t.mouseXY;this.triggerEvent("dragend",{mouseXY:r},e),requestAnimationFrame((function(){n.clearMouseCanvas(),n.draw({trigger:"dragend"})}))}},{key:"handleClick",value:function(t,e){var n=this;this.triggerEvent("click",this.mutableState,e),requestAnimationFrame((function(){n.clearMouseCanvas(),n.draw({trigger:"click"})}))}},{key:"handleDoubleClick",value:function(t,e){this.triggerEvent("dblclick",{},e)}},{key:"getChildContext",value:function(){var t=Fr(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:t.width,height:t.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,chartCanvasType:this.props.type,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"UNSAFE_componentWillMount",value:function(){var t=Ur(this.props),e=t.fullData,n=Tr(t,Er);this.setState(n),this.fullData=e}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e,n=function(t,e){return!Br.every((function(n){return m(t[n],e[n])}))}(this.props,t),r=Qr(this.state.xScale,this.state.xAccessor,this.state.plotData),o=this.state.chartConfig;if(r&&!n&&m(this.props.xExtents,t.xExtents)){var i=$r(this.state.xScale.domain(),2),a=i[0],s=i[1],u=X(this.fullData),c=Lr(t),l=c.xAccessor,h=l(u)<=s&&l(u)>=a;e=function(t,e,n,r,o){var i,a=t.fullData,s=t.xScale,u=t.xAccessor,c=t.displayXAccessor,l=t.filterData,h=X(a),f=$r(e.domain(),2),p=f[0],d=f[1],y=n.postCalculator,v=n.children,m=n.padding,g=n.flipXScale,b=n.maintainPointsPerPixelOnResize,w=Wr(g),P=Fr(n),x=Vr(s,P,m,w);if(!r||d>=u(h)){var C=$r(e.range(),2),S=C[0],O=C[1],k=$r(x.range(),2),M=k[0],D=k[1],_=b?d-(D-M)/(O-S)*(d-p):p,E=e(u(h)),A=l(a,[_,d],u,x,{fallbackStart:p,fallbackEnd:{lastItem:h,lastItemX:E}});i=A.plotData,x.domain(A.domain)}else if(r&&d<u(h)){var j=e(u(h))-e.range()[1],T=$r(e.range().map((function(t){return t+j})).map(e.invert),2),R=l(a,[T[0],T[1]],u,x);i=R.plotData,x.domain(R.domain)}var I=y(i),N=Le(Fe(P,v,o),{plotData:I,xAccessor:u,displayXAccessor:c,fullData:a},x.domain());return{xScale:x,xAccessor:u,chartConfig:N,plotData:I,fullData:a,filterData:l}}(c,this.state.xScale,t,h,o)}else e=Ur(t),this.mutableState={};var f=e,p=f.fullData,d=Tr(f,Ar);this.panInProgress||(this.clearThreeCanvas(),this.setState(d)),this.fullData=p}},{key:"resetYDomain",value:function(t){var e=this.state.chartConfig,n=!1,r=e.map((function(e){return!z(t)&&e.id!==t||m(e.yScale.domain(),e.realYDomain)?e:(n=!0,zr(zr({},e),{},{yScale:e.yScale.domain(e.realYDomain),yPanEnabled:!1}))}));n&&(this.clearThreeCanvas(),this.setState({chartConfig:r}))}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var t=this.props,n=t.type,r=t.height,o=t.width,i=t.margin,a=t.className,s=t.zIndex,u=t.defaultFocus,c=t.ratio,l=t.mouseMoveEvent,h=t.panEvent,f=t.zoomEvent,p=this.props,d=p.useCrossHairStyleCursor,y=p.onSelect,v=this.state,m=v.plotData,g=v.xScale,b=v.xAccessor,w=v.chartConfig,P=Fr(this.props),x=Qr(g,b,m),C=d&&x,S=e().createElement("style",{type:"text/css"},"\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}");return e().createElement("div",{style:{position:"relative",width:o,height:r},className:a,onClick:y},e().createElement(Sr,{ref:this.saveCanvasContainerNode,type:n,ratio:c,width:o,height:r,zIndex:s}),e().createElement("svg",{className:a,width:o,height:r,style:{position:"absolute",zIndex:s+5}},S,e().createElement("defs",null,e().createElement("clipPath",{id:"chart-area-clip"},e().createElement("rect",{x:"0",y:"0",width:P.width,height:P.height})),w.map((function(t,n){return e().createElement("clipPath",{key:n,id:"chart-area-clip-".concat(t.id)},e().createElement("rect",{x:"0",y:"0",width:t.width,height:t.height}))}))),e().createElement("g",{transform:"translate(".concat(i.left+.5,", ").concat(i.top+.5,")")},e().createElement(yr,{ref:this.saveEventCaptureNode,useCrossHairStyleCursor:C,mouseMove:l&&x,zoom:f&&x,pan:h&&x,width:P.width,height:P.height,chartConfig:w,xScale:g,xAccessor:b,focus:u,disableInteraction:this.props.disableInteraction,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),e().createElement("g",{className:"react-stockcharts-avoid-interaction"},this.props.children))))}}],o&&Rr(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function Qr(t,e,n){return!isNaN(t(e($(n))))&&H(t.invert)}Kr.propTypes={width:i().number.isRequired,height:i().number.isRequired,margin:i().object,ratio:i().number.isRequired,type:i().oneOf(["svg","hybrid"]),pointsPerPxThreshold:i().number,minPointsPerPxThreshold:i().number,data:i().array.isRequired,xAccessor:i().func,xExtents:i().oneOfType([i().array,i().func]),zoomAnchor:i().func,className:i().string,seriesName:i().string.isRequired,zIndex:i().number,children:i().node.isRequired,xScale:i().func.isRequired,postCalculator:i().func,flipXScale:i().bool,useCrossHairStyleCursor:i().bool,padding:i().oneOfType([i().number,i().shape({left:i().number,right:i().number})]),defaultFocus:i().bool,zoomMultiplier:i().number,onLoadMore:i().func,displayXAccessor:function(t,e){if(z(t[e]))console.warn("`displayXAccessor` is not defined, will use the value from `xAccessor` as `displayXAccessor`. This might be ok if you do not use a discontinuous scale but if you do, provide a `displayXAccessor` prop to `ChartCanvas`");else if("function"!=typeof t[e])return new Error("displayXAccessor has to be a function")},mouseMoveEvent:i().bool,panEvent:i().bool,clamp:i().oneOfType([i().string,i().bool,i().func]),zoomEvent:i().bool,onSelect:i().func,maintainPointsPerPixelOnResize:i().bool,disableInteraction:i().bool},Kr.defaultProps={margin:{top:20,right:30,bottom:30,left:80},type:"hybrid",pointsPerPxThreshold:2,minPointsPerPxThreshold:.01,className:"react-stockchart",zIndex:1,xExtents:[s,function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}],postCalculator:y,padding:0,xAccessor:y,flipXScale:!1,useCrossHairStyleCursor:!0,defaultFocus:!0,onLoadMore:d,onSelect:d,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,zoomMultiplier:1.1,clamp:!1,zoomAnchor:function(t){var e=t.xScale,n=t.xAccessor,r=t.mouseXY,o=t.plotData;return t.fullData,n(Ue(e,n,r,o))},maintainPointsPerPixelOnResize:!0,disableInteraction:!1},Kr.childContextTypes={plotData:i().array,fullData:i().array,chartConfig:i().arrayOf(i().shape({id:i().oneOfType([i().number,i().string]).isRequired,origin:i().arrayOf(i().number).isRequired,padding:i().oneOfType([i().number,i().shape({top:i().number,bottom:i().number})]),yExtents:i().arrayOf(i().func),yExtentsProvider:i().func,yScale:i().func.isRequired,mouseCoordinates:i().shape({at:i().string,format:i().func}),width:i().number.isRequired,height:i().number.isRequired})).isRequired,xScale:i().func.isRequired,xAccessor:i().func.isRequired,displayXAccessor:i().func.isRequired,width:i().number.isRequired,height:i().number.isRequired,chartCanvasType:i().oneOf(["svg","hybrid"]).isRequired,margin:i().object.isRequired,ratio:i().number.isRequired,getCanvasContexts:i().func,xAxisZoom:i().func,yAxisZoom:i().func,amIOnTop:i().func,redraw:i().func,subscribe:i().func,unsubscribe:i().func,setCursorClass:i().func,generateSubscriptionId:i().func,getMutableState:i().func},Kr.ohlcv=function(t){return{date:t.date,open:t.open,high:t.high,low:t.low,close:t.close,volume:t.volume}};const Jr=Kr;function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eo(Object(n),!0).forEach((function(e){ro(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ro(t,e,n){return(e=io(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,io(r.key),r)}}function io(t){var e=function(t){if("object"!=to(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=to(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==to(e)?e:e+""}function ao(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ao=function(){return!!t})()}function so(t){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},so(t)}function uo(t,e){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uo(t,e)}var co={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag"},lo=function(t){function n(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(t,e,n){return e=so(e),function(t,e){if(e&&("object"==to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ao()?Reflect.construct(e,n||[],so(t).constructor):e.apply(t,n))}(this,n,[t,e])).drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.listener=r.listener.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getPanConditions=r.getPanConditions.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r);var o=e.generateSubscriptionId;return r.suscriberId=o(),r.moreProps={},r.state={updateCount:0},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(n,t),r=n,o=[{key:"updateMoreProps",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.moreProps[n]=t[n]}))}},{key:"shouldTypeProceed",value:function(){return!0}},{key:"preEvaluate",value:function(){}},{key:"listener",value:function(t,e,n,r){H(e)&&this.updateMoreProps(e),this.evaluationInProgress=!0,this.evaluateType(t,r),this.evaluationInProgress=!1}},{key:"evaluateType",value:function(t,e){var n=co[t]||t;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(t,this.moreProps,e),this.shouldTypeProceed(t,this.moreProps)))switch(t){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1;var r=this.getMoreProps();this.props.onUnHover&&this.props.onUnHover(r,e);break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(this.getMoreProps(),e),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(this.getMoreProps(),e);break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(this.getMoreProps(),e);break;case"click":var o=this.getMoreProps();this.moreProps.hovering?this.props.onClickWhenHover(o,e):this.props.onClickOutside(o,e),this.props.onClick&&this.props.onClick(o,e);break;case"mousemove":var i=this.moreProps.hovering;this.moreProps.hovering=this.isHover(e);var a=this.context,s=a.amIOnTop,u=a.setCursorClass;this.moreProps.hovering&&!this.props.selected&&s(this.suscriberId)&&H(this.props.onHover)?(u("react-stockcharts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&s(this.suscriberId)?(u(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):i&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,u(null));var c=this.getMoreProps();this.moreProps.hovering&&!i&&this.props.onHover&&this.props.onHover(c,e),i&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(c,e),this.props.onMouseMove&&this.props.onMouseMove(c,e);break;case"dblclick":var l=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(l,e),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(l,e);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(this.getMoreProps(),e);break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(this.getMoreProps(),e);break;case"dragstart":this.getPanConditions().draggable&&(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,this.props.onDragStart(this.getMoreProps(),e)),this.someDragInProgress=!0;break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(this.getMoreProps(),e);break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(this.getMoreProps(),e),this.dragInProgress=!1,this.someDragInProgress=!1;break;case"dragcancel":(this.dragInProgress||this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(t){return!!H(this.props.isHover)&&this.props.isHover(this.getMoreProps(),t)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},e=t.trigger,n=t.force,r=co[e]||e;if(this.props.drawOn.indexOf(r)>-1||this.props.selected||n){var o=this.context.chartCanvasType;if(z(this.props.canvasDraw)||"svg"===o){var i=this.state.updateCount;this.setState({updateCount:i+1})}else this.drawOnCanvas()}}},{key:"UNSAFE_componentWillMount",value:function(){var t=this.context,e=t.subscribe,n=t.chartId,r=this.props,o=r.clip,i=r.edgeClip;e(this.suscriberId,{chartId:n,clip:o,edgeClip:i,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){(0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass&&(0,this.context.setCursorClass)(null)}},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.context.chartCanvasType,n=this.props,r=n.canvasDraw,o=n.selected,i=n.interactiveCursorClass;if(t.selected!==o){var a=this.context.setCursorClass;o&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,a(i)):(this.iSetTheCursorClass=!1,a(null))}H(r)&&!this.evaluationInProgress&&"svg"!==e&&(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"UNSAFE_componentWillReceiveProps",value:function(t,e){var n=e.xScale,r=e.plotData,o=e.chartConfig,i=e.getMutableState;this.props.debug(e),this.moreProps=no(no(no({},this.moreProps),i()),{},{xScale:n,plotData:r,chartConfig:o})}},{key:"getMoreProps",value:function(){var t=this.context,e=t.xScale,n=t.plotData,r=t.chartConfig,o=t.morePropsDecorator,i=t.xAccessor,a=t.displayXAccessor,s=t.width,u=t.height,c=this.context,l=no({xScale:e,plotData:n,chartConfig:r,xAccessor:i,displayXAccessor:a,width:s,height:u,chartId:c.chartId,fullData:c.fullData},this.moreProps);return(o||y)(l)}},{key:"preCanvasDraw",value:function(){}},{key:"postCanvasDraw",value:function(){}},{key:"drawOnCanvas",value:function(){var t=this.props,e=t.canvasDraw,n=t.canvasToDraw,r=this.context.getCanvasContexts,o=this.getMoreProps(),i=n(r());this.preCanvasDraw(i,o),e(i,o),this.postCanvasDraw(i,o)}},{key:"render",value:function(){var t=this.context,n=t.chartCanvasType,r=t.chartId,o=this.props,i=o.canvasDraw,a=o.clip,s=o.svgDraw;if(H(i)&&"svg"!==n)return null;var u=H(r)?"-"+r:"",c=a?{clipPath:"url(#chart-area-clip".concat(u,")")}:null;return e().createElement("g",{style:c},s(this.getMoreProps()))}}],o&&oo(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);lo.propTypes={svgDraw:i().func.isRequired,canvasDraw:i().func,drawOn:i().array.isRequired,clip:i().bool.isRequired,edgeClip:i().bool.isRequired,interactiveCursorClass:i().string,selected:i().bool.isRequired,enableDragOnHover:i().bool.isRequired,disablePan:i().bool.isRequired,canvasToDraw:i().func.isRequired,isHover:i().func,onClick:i().func,onClickWhenHover:i().func,onClickOutside:i().func,onPan:i().func,onPanEnd:i().func,onDragStart:i().func,onDrag:i().func,onDragComplete:i().func,onDoubleClick:i().func,onDoubleClickWhenHover:i().func,onContextMenu:i().func,onContextMenuWhenHover:i().func,onMouseMove:i().func,onMouseDown:i().func,onHover:i().func,onUnHover:i().func,debug:i().func},lo.defaultProps={svgDraw:M(null),draw:[],canvasToDraw:function(t){return t.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1,onClickWhenHover:d,onClickOutside:d,onDragStart:d,onMouseMove:d,onMouseDown:d,debug:d},lo.contextTypes={width:i().number.isRequired,height:i().number.isRequired,margin:i().object.isRequired,chartId:i().oneOfType([i().number,i().string]),getCanvasContexts:i().func,chartCanvasType:i().string,xScale:i().func.isRequired,xAccessor:i().func.isRequired,displayXAccessor:i().func.isRequired,plotData:i().array.isRequired,fullData:i().array.isRequired,chartConfig:i().oneOfType([i().array,i().object]).isRequired,morePropsDecorator:i().func,generateSubscriptionId:i().func,getMutableState:i().func.isRequired,amIOnTop:i().func.isRequired,subscribe:i().func.isRequired,unsubscribe:i().func.isRequired,setCursorClass:i().func.isRequired};const ho=lo;function fo(t){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(t)}function po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?po(Object(n),!0).forEach((function(e){vo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vo(t,e,n){return(e=wo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return go(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wo(r.key),r)}}function wo(t){var e=function(t){if("object"!=fo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fo(e)?e:e+""}function Po(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Po=function(){return!!t})()}function xo(t,e,n,r){var o=Co(So(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function Co(){return Co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=So(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Co.apply(null,arguments)}function So(t){return So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},So(t)}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}var ko=["drag","dragend"],Mo=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=So(e),function(t,e){if(e&&("object"==fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Po()?Reflect.construct(e,n||[],So(t).constructor):e.apply(t,n))}(this,e,[t,n])).preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(e,t),n=e,(r=[{key:"preCanvasDraw",value:function(t,n){xo(e,"preCanvasDraw",this,3)([t,n]),t.save();var r=this.context,o=r.margin,i=r.ratio,a=n.chartConfig,s=.5*i+a.origin[0]+o.left,u=.5*i+a.origin[1]+o.top,c=n.chartConfig,l=c.width,h=c.height,f=this.props,p=f.clip,d=f.edgeClip;t.setTransform(1,0,0,1,0,0),t.scale(i,i),d&&(t.beginPath(),t.rect(-1,u-10,l+o.left+o.right+1,h+20),t.clip()),t.translate(s,u),p&&(t.beginPath(),t.rect(-1,-1,l+1,h+1),t.clip())}},{key:"postCanvasDraw",value:function(t,n){xo(e,"postCanvasDraw",this,3)([t,n]),t.restore()}},{key:"updateMoreProps",value:function(t){xo(e,"updateMoreProps",this,3)([t]);var n=t.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=D(n,(function(t){return t.id===r}));this.moreProps.chartConfig=o}if(H(this.moreProps.chartConfig)){var i=mo(this.moreProps.chartConfig.origin,2),a=i[0],s=i[1];if(H(t.mouseXY)){var u=mo(t.mouseXY,2),c=u[0],l=u[1];this.moreProps.mouseXY=[c-a,l-s]}if(H(t.startPos)){var h=mo(t.startPos,2),f=h[0],p=h[1];this.moreProps.startPos=[f-a,p-s]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(t,e){return!("mousemove"!==t&&"click"!==t||!this.props.disablePan)||-1!==ko.indexOf(t)||!H(e)||!H(e.currentCharts)||e.currentCharts.indexOf(this.context.chartId)>-1}}])&&bo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ho);Mo.propTypes=ho.propTypes,Mo.defaultProps=ho.defaultProps,Mo.contextTypes=yo(yo({},ho.contextTypes),{},{canvasOriginX:i().number,canvasOriginY:i().number,chartId:i().oneOfType([i().number,i().string]).isRequired,chartConfig:i().object.isRequired,ratio:i().number.isRequired});const Do=Mo;function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ao(r.key),r)}}function Ao(t){var e=function(t){if("object"!=_o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_o(e)?e:e+""}function jo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jo=function(){return!!t})()}function To(t){return To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},To(t)}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ro(t,e)}var Io=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e,n){return e=To(e),function(t,e){if(e&&("object"==_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jo()?Reflect.construct(e,n||[],To(t).constructor):e.apply(t,n))}(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}(n,t),r=n,(o=[{key:"componentDidMount",value:function(){if("svg"!==this.context.chartCanvasType&&H(this.context.getCanvasContexts)){var t=this.context.getCanvasContexts();t&&n.drawOnCanvas(t.bg,this.props,this.context,this.props.children)}}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){if("svg"!==this.context.chartCanvasType)return null;var t=this.props,n={x:t.x,y:t.y,fill:t.fill,opacity:t.opacity,stroke:t.stroke,strokeOpacity:t.strokeOpacity,fontFamily:t.fontFamily,fontSize:t.fontSize,textAnchor:t.textAnchor};return e().createElement("text",n,"this.props.children(interval)")}}])&&Eo(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(S);Io.drawOnCanvas=function(t,e,n,r){var o=n.interval;t.clearRect(-1,-1,t.canvas.width+2,t.canvas.height+2),t.save(),t.setTransform(1,0,0,1,0,0),t.translate(.5,.5);var i=e.x,a=e.y,s=e.fill,u=e.opacity,c=e.stroke,l=e.strokeOpacity,h=e.fontFamily,f=e.fontSize,p=e.textAnchor,d=r(o);t.strokeStyle=F(c,l),t.font="".concat(f,"px ").concat(h),t.fillStyle=F(s,u),t.textAlign="middle"===p?"center":p,"none"!==c&&t.strokeText(d,i,a),t.fillText(d,i,a),t.restore()},Io.propTypes={x:i().number.isRequired,y:i().number.isRequired,fontFamily:i().string,fontSize:i().number.isRequired,fill:i().string,stroke:i().string,opacity:i().number,strokeOpacity:i().number,textAnchor:i().string,children:i().func},Io.defaultProps={opacity:.3,fill:"#9E7523",stroke:"#9E7523",strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,textAnchor:"middle"},Io.contextTypes={interval:i().string.isRequired,getCanvasContexts:i().func,chartCanvasType:i().string};const No=Io,qo=Math.PI,$o=2*qo,Xo=1e-6,Ho=$o-Xo;function zo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Zo{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?zo:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zo;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,o,i){this._append`C${+t},${+e},${+n},${+r},${this._x1=+o},${this._y1=+i}`}arcTo(t,e,n,r,o){if(t=+t,e=+e,n=+n,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,s=n-t,u=r-e,c=i-t,l=a-e,h=c*c+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Xo)if(Math.abs(l*s-u*c)>Xo&&o){let f=n-i,p=r-a,d=s*s+u*u,y=f*f+p*p,v=Math.sqrt(d),m=Math.sqrt(h),g=o*Math.tan((qo-Math.acos((d+h-y)/(2*v*m)))/2),b=g/m,w=g/v;Math.abs(b-1)>Xo&&this._append`L${t+b*c},${e+b*l}`,this._append`A${o},${o},0,0,${+(l*f>c*p)},${this._x1=t+w*s},${this._y1=e+w*u}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,o,i){if(t=+t,e=+e,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^i,h=i?r-o:o-r;null===this._x1?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Xo||Math.abs(this._y1-c)>Xo)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%$o+$o),h>Ho?this._append`A${n},${n},0,1,${l},${t-a},${e-s}A${n},${n},0,1,${l},${this._x1=u},${this._y1=c}`:h>Xo&&this._append`A${n},${n},0,${+(h>=qo)},${l},${this._x1=t+n*Math.cos(o)},${this._y1=e+n*Math.sin(o)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Yo(){return new Zo}function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}function Fo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Wo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uo(r.key),r)}}function Uo(t){var e=function(t){if("object"!=Bo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bo(e)?e:e+""}function Vo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vo=function(){return!!t})()}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(t)}function Ko(t,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ko(t,e)}Yo.prototype=Zo.prototype;var Qo=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(t,e,n){return e=Go(e),function(t,e){if(e&&("object"==Bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vo()?Reflect.construct(e,n||[],Go(t).constructor):e.apply(t,n))}(this,n,[t])).handleZoomOut=e.handleZoomOut.bind(e),e.handleZoomIn=e.handleZoomIn.bind(e),e.zoom=e.zoom.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ko(t,e)}(n,t),r=n,(o=[{key:"zoom",value:function(t){var e=this,n=this.context,r=n.xAxisZoom,o=n.xScale,i=n.plotData,a=o((0,n.xAccessor)(X(i))),s=this.props.zoomMultiplier,u=t>0?1*s:1/s,c=Fo(o.domain(),2),l=c[0],h=c[1],f=Fo(o.range().map((function(t){return a+(t-a)*u})).map(o.invert),2),p=f[0],d=f[1],y=te(l,p),v=te(h,d),m=[.25,.3,.5,.6,.75,1].map((function(t){return[y(t),v(t)]}));this.interval=setInterval((function(){r(m.shift()),0===m.length&&(clearInterval(e.interval),delete e.interval)}),10)}},{key:"handleZoomOut",value:function(){this.interval||this.zoom(1)}},{key:"handleZoomIn",value:function(){this.interval||this.zoom(-1)}},{key:"render",value:function(){var t=this.context.chartConfig,n=t.width,r=t.height,o=this.props,i=o.size,a=o.heightFromBase,s=o.rx,u=o.ry,c=this.props,l=c.stroke,h=c.strokeOpacity,f=c.fill,p=c.strokeWidth,d=c.fillOpacity,y=this.props,v=y.textFill,m=y.textStrokeWidth,g=this.props.onReset,b=Math.round(n/2),w=r-a,P=Fo(i,2),x=P[0],C=P[1],S=Math.round(w+C/2),O=b,k=Yo(),M=b-x-2*p;k.moveTo(M-6,S),k.lineTo(M+6,S),k.closePath();var D=Yo(),_=b+x+2*p;return D.moveTo(_-6,S),D.lineTo(_+6,S),D.moveTo(_,S-5),D.lineTo(_,S+5),e().createElement("g",{className:"react-stockcharts-zoom-button"},e().createElement("rect",{x:M-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:f,fillOpacity:d,stroke:l,strokeOpacity:h,strokeWidth:p}),e().createElement("path",{d:k.toString(),stroke:v,strokeWidth:m}),e().createElement("rect",{x:O-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:f,fillOpacity:d,stroke:l,strokeOpacity:h,strokeWidth:p}),e().createElement("g",{transform:"translate (".concat(O,", ").concat(w+C/4,") scale(.14)")},e().createElement("path",{d:"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z",fill:v})),e().createElement("rect",{x:_-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:f,fillOpacity:d,stroke:l,strokeOpacity:h,strokeWidth:p}),e().createElement("path",{d:D.toString(),stroke:v,strokeWidth:m}),e().createElement("rect",{className:"react-stockcharts-enable-interaction out",onClick:this.handleZoomOut,x:M-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:"none"}),e().createElement("rect",{className:"react-stockcharts-enable-interaction reset",onClick:g,x:O-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:"none"}),e().createElement("rect",{className:"react-stockcharts-enable-interaction in",onClick:this.handleZoomIn,x:_-x/2,y:w,rx:s,ry:u,height:C,width:x,fill:"none"}))}}])&&Lo(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);Qo.propTypes={zoomMultiplier:i().number.isRequired,size:i().array.isRequired,heightFromBase:i().number.isRequired,rx:i().number.isRequired,ry:i().number.isRequired,stroke:i().string.isRequired,strokeWidth:i().number.isRequired,strokeOpacity:i().number.isRequired,fill:i().string.isRequired,fillOpacity:i().number.isRequired,fontSize:i().number.isRequired,textDy:i().string.isRequired,textFill:i().string.isRequired,textStrokeWidth:i().number.isRequired,onReset:i().func},Qo.defaultProps={size:[30,24],heightFromBase:50,rx:3,ry:3,stroke:"#000000",strokeOpacity:.3,strokeWidth:1,fill:"#D6D6D6",fillOpacity:.4,fontSize:16,textDy:".3em",textFill:"#000000",textStrokeWidth:2,zoomMultiplier:1.5,onReset:d},Qo.contextTypes={xScale:i().func.isRequired,chartConfig:i().object.isRequired,plotData:i().array.isRequired,xAccessor:i().func.isRequired,xAxisZoom:i().func.isRequired};const Jo=Qo;var ti="0.7.8"})(),o})()));
//# sourceMappingURL=main.4b5b334643a75c7bd0e2.js.map