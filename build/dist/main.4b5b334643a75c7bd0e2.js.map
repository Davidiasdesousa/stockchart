{"version":3,"file":"dist/main.4b5b334643a75c7bd0e2.js","mappings":"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","sources":["webpack://ReStock/webpack/universalModuleDefinition","webpack://ReStock/./node_modules/prop-types/index.js","webpack://ReStock/./node_modules/lodash.flattendeep/index.js","webpack://ReStock/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://ReStock/external umd \"React\"","webpack://ReStock/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://ReStock/webpack/bootstrap","webpack://ReStock/webpack/runtime/compat get default export","webpack://ReStock/webpack/runtime/define property getters","webpack://ReStock/webpack/runtime/global","webpack://ReStock/webpack/runtime/hasOwnProperty shorthand","webpack://ReStock/webpack/runtime/make namespace object","webpack://ReStock/./node_modules/d3-array/src/extent.js","webpack://ReStock/./node_modules/d3-array/src/min.js","webpack://ReStock/./node_modules/internmap/src/index.js","webpack://ReStock/./node_modules/d3-scale/src/init.js","webpack://ReStock/./node_modules/d3-scale/src/ordinal.js","webpack://ReStock/./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://ReStock/./node_modules/d3-scale-chromatic/src/colors.js","webpack://ReStock/./src/lib/utils/noop.js","webpack://ReStock/./src/lib/utils/identity.js","webpack://ReStock/./src/lib/utils/shallowEqual.js","webpack://ReStock/./src/lib/utils/PureComponent.js","webpack://ReStock/./src/lib/utils/index.js","webpack://ReStock/./node_modules/d3-collection/src/map.js","webpack://ReStock/./node_modules/d3-collection/src/set.js","webpack://ReStock/./node_modules/d3-array/src/ticks.js","webpack://ReStock/./node_modules/d3-array/src/ascending.js","webpack://ReStock/./node_modules/d3-array/src/descending.js","webpack://ReStock/./node_modules/d3-array/src/bisector.js","webpack://ReStock/./node_modules/d3-array/src/bisect.js","webpack://ReStock/./node_modules/d3-array/src/number.js","webpack://ReStock/./node_modules/d3-color/src/define.js","webpack://ReStock/./node_modules/d3-color/src/color.js","webpack://ReStock/./node_modules/d3-interpolate/src/basis.js","webpack://ReStock/./node_modules/d3-interpolate/src/constant.js","webpack://ReStock/./node_modules/d3-interpolate/src/color.js","webpack://ReStock/./node_modules/d3-interpolate/src/rgb.js","webpack://ReStock/./node_modules/d3-interpolate/src/array.js","webpack://ReStock/./node_modules/d3-interpolate/src/date.js","webpack://ReStock/./node_modules/d3-interpolate/src/number.js","webpack://ReStock/./node_modules/d3-interpolate/src/object.js","webpack://ReStock/./node_modules/d3-interpolate/src/basisClosed.js","webpack://ReStock/./node_modules/d3-interpolate/src/string.js","webpack://ReStock/./node_modules/d3-interpolate/src/numberArray.js","webpack://ReStock/./node_modules/d3-interpolate/src/value.js","webpack://ReStock/./node_modules/d3-interpolate/src/round.js","webpack://ReStock/./node_modules/d3-scale/src/number.js","webpack://ReStock/./node_modules/d3-scale/src/continuous.js","webpack://ReStock/./node_modules/d3-scale/src/constant.js","webpack://ReStock/./node_modules/d3-format/src/formatSpecifier.js","webpack://ReStock/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://ReStock/./node_modules/d3-format/src/formatDecimal.js","webpack://ReStock/./node_modules/d3-format/src/exponent.js","webpack://ReStock/./node_modules/d3-format/src/formatRounded.js","webpack://ReStock/./node_modules/d3-format/src/formatTypes.js","webpack://ReStock/./node_modules/d3-format/src/identity.js","webpack://ReStock/./node_modules/d3-format/src/locale.js","webpack://ReStock/./node_modules/d3-format/src/defaultLocale.js","webpack://ReStock/./node_modules/d3-scale/src/linear.js","webpack://ReStock/./node_modules/d3-scale/src/tickFormat.js","webpack://ReStock/./node_modules/d3-format/src/precisionPrefix.js","webpack://ReStock/./node_modules/d3-format/src/precisionRound.js","webpack://ReStock/./node_modules/d3-format/src/precisionFixed.js","webpack://ReStock/./node_modules/d3-format/src/formatGroup.js","webpack://ReStock/./node_modules/d3-format/src/formatNumerals.js","webpack://ReStock/./node_modules/d3-format/src/formatTrim.js","webpack://ReStock/./src/lib/Chart.js","webpack://ReStock/./src/lib/utils/ChartDataUtil.js","webpack://ReStock/./src/lib/utils/zipper.js","webpack://ReStock/./node_modules/d3-selection/src/selector.js","webpack://ReStock/./node_modules/d3-selection/src/selectorAll.js","webpack://ReStock/./node_modules/d3-selection/src/matcher.js","webpack://ReStock/./node_modules/d3-selection/src/selection/selectChild.js","webpack://ReStock/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://ReStock/./node_modules/d3-selection/src/selection/sparse.js","webpack://ReStock/./node_modules/d3-selection/src/selection/enter.js","webpack://ReStock/./node_modules/d3-selection/src/selection/data.js","webpack://ReStock/./node_modules/d3-selection/src/selection/sort.js","webpack://ReStock/./node_modules/d3-selection/src/namespaces.js","webpack://ReStock/./node_modules/d3-selection/src/namespace.js","webpack://ReStock/./node_modules/d3-selection/src/selection/attr.js","webpack://ReStock/./node_modules/d3-selection/src/window.js","webpack://ReStock/./node_modules/d3-selection/src/selection/style.js","webpack://ReStock/./node_modules/d3-selection/src/selection/property.js","webpack://ReStock/./node_modules/d3-selection/src/selection/classed.js","webpack://ReStock/./node_modules/d3-selection/src/selection/text.js","webpack://ReStock/./node_modules/d3-selection/src/selection/html.js","webpack://ReStock/./node_modules/d3-selection/src/selection/raise.js","webpack://ReStock/./node_modules/d3-selection/src/selection/lower.js","webpack://ReStock/./node_modules/d3-selection/src/creator.js","webpack://ReStock/./node_modules/d3-selection/src/selection/insert.js","webpack://ReStock/./node_modules/d3-selection/src/selection/remove.js","webpack://ReStock/./node_modules/d3-selection/src/selection/clone.js","webpack://ReStock/./node_modules/d3-selection/src/selection/on.js","webpack://ReStock/./node_modules/d3-selection/src/selection/dispatch.js","webpack://ReStock/./node_modules/d3-selection/src/selection/index.js","webpack://ReStock/./node_modules/d3-selection/src/select.js","webpack://ReStock/./node_modules/d3-selection/src/sourceEvent.js","webpack://ReStock/./node_modules/d3-selection/src/pointer.js","webpack://ReStock/./node_modules/d3-selection/src/selection/select.js","webpack://ReStock/./node_modules/d3-selection/src/selection/selectAll.js","webpack://ReStock/./node_modules/d3-selection/src/array.js","webpack://ReStock/./node_modules/d3-selection/src/selection/filter.js","webpack://ReStock/./node_modules/d3-selection/src/constant.js","webpack://ReStock/./node_modules/d3-selection/src/selection/exit.js","webpack://ReStock/./node_modules/d3-selection/src/selection/join.js","webpack://ReStock/./node_modules/d3-selection/src/selection/merge.js","webpack://ReStock/./node_modules/d3-selection/src/selection/order.js","webpack://ReStock/./node_modules/d3-selection/src/selection/call.js","webpack://ReStock/./node_modules/d3-selection/src/selection/nodes.js","webpack://ReStock/./node_modules/d3-selection/src/selection/node.js","webpack://ReStock/./node_modules/d3-selection/src/selection/size.js","webpack://ReStock/./node_modules/d3-selection/src/selection/empty.js","webpack://ReStock/./node_modules/d3-selection/src/selection/each.js","webpack://ReStock/./node_modules/d3-selection/src/selection/append.js","webpack://ReStock/./node_modules/d3-selection/src/selection/datum.js","webpack://ReStock/./node_modules/d3-selection/src/selection/iterator.js","webpack://ReStock/./src/lib/EventCapture.js","webpack://ReStock/./node_modules/d3-selection/src/pointers.js","webpack://ReStock/./src/lib/CanvasContainer.js","webpack://ReStock/./src/lib/scale/evaluator.js","webpack://ReStock/./src/lib/ChartCanvas.js","webpack://ReStock/./node_modules/d3-array/src/max.js","webpack://ReStock/./src/lib/utils/zoomBehavior.js","webpack://ReStock/./src/lib/GenericComponent.js","webpack://ReStock/./src/lib/GenericChartComponent.js","webpack://ReStock/./src/lib/BackgroundText.js","webpack://ReStock/./node_modules/d3-path/src/path.js","webpack://ReStock/./src/lib/ZoomButtons.js","webpack://ReStock/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__883__) => {\nreturn ","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = flattenDeep;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__883__;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","export default () => {};","\n\nexport default d => d;","// https://github.com/jonschlinkert/is-equal-shallow/\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2015, Jon Schlinkert.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nfunction isDate(date) {\n\treturn Object.prototype.toString.call(date) === \"[object Date]\";\n}\n\nfunction isEqual(val1, val2) {\n\treturn (isDate(val1) && isDate(val2))\n\t\t? val1.getTime() === val2.getTime()\n\t\t: val1 === val2;\n}\n\nexport default function shallowEqual(a, b) {\n\tif (!a && !b) { return true; }\n\tif (!a && b || a && !b) { return false; }\n\n\tlet numKeysA = 0, numKeysB = 0, key;\n\tfor (key in b) {\n\t\tnumKeysB++;\n\t\tif (/* !isPrimitive(b[key]) || */ (Object.prototype.hasOwnProperty.call(b, key) && !Object.prototype.hasOwnProperty.call(a, key)) || !isEqual(a[key], b[key])) {\n\t\t\t// console.log(key, a, b);\n\t\t\treturn false;\n\t\t}\n\t}\n\tfor (key in a) {\n\t\tnumKeysA++;\n\t}\n\treturn numKeysA === numKeysB;\n}\n","\n\nimport React from \"react\";\nimport shallowEqual from \"./shallowEqual\";\n\nclass PureComponent extends React.Component {\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t|| !shallowEqual(this.context, nextContext);\n\t}\n}\n\nexport default PureComponent;\n","import { scaleOrdinal } from \"d3-scale\";\nimport { schemeCategory10 } from \"d3-scale-chromatic\";\nimport { bisector } from \"d3-array\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport { default as rebind } from \"./rebind\";\nexport { default as zipper } from \"./zipper\";\nexport { default as merge } from \"./merge\";\nexport { default as slidingWindow } from \"./slidingWindow\";\nexport { default as identity } from \"./identity\";\nexport { default as noop } from \"./noop\";\nexport { default as shallowEqual } from \"./shallowEqual\";\nexport { default as mappedSlidingWindow } from \"./mappedSlidingWindow\";\nexport { default as accumulatingWindow } from \"./accumulatingWindow\";\nexport { default as PureComponent } from \"./PureComponent\";\n\nexport * from \"./barWidth\";\nexport * from \"./strokeDasharray\";\n\nexport function getLogger(prefix) {\n\tlet logger = noop;\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tlogger = require(\"debug\")(\"react-stockcharts:\" + prefix);\n\t}\n\treturn logger;\n}\n\nexport function sign(x) {\n\treturn (x > 0) - (x < 0);\n}\n\nexport const yes = () => true;\n\nexport function path(loc = []) {\n\tconst key = Array.isArray(loc) ? loc : [loc];\n\tconst length = key.length;\n\n\treturn function(obj, defaultValue) {\n\t\tif (length === 0) return isDefined(obj) ? obj : defaultValue;\n\n\t\tlet index = 0;\n\t\twhile (obj != null && index < length) {\n\t\t\tobj = obj[key[index++]];\n\t\t}\n\t\treturn (index === length) ? obj : defaultValue;\n\t};\n}\n\nexport function functor(v) {\n\treturn typeof v === \"function\" ? v : () => v;\n}\n\nexport function createVerticalLinearGradient(stops) {\n\treturn function(moreProps, ctx) {\n\t\tconst { chartConfig: { height } } = moreProps;\n\n\t\tconst grd = ctx.createLinearGradient(0, height, 0, 0);\n\t\tstops.forEach(each => {\n\t\t\tgrd.addColorStop(each.stop, each.color);\n\t\t});\n\n\t\treturn grd;\n\t};\n}\n\nexport function getClosestItemIndexes2(array, value, accessor) {\n\tlet left = bisector(accessor).left(array, value);\n\tleft = Math.max(left - 1, 0);\n\tlet right = Math.min(left + 1, array.length - 1);\n\n\tconst item = accessor(array[left]);\n\tif (item >= value && item <= value) right = left;\n\n\treturn { left, right };\n}\n\nexport function degrees(radians) {\n\treturn radians * 180 / Math.PI;\n}\n\nexport function radians(degrees) {\n\treturn degrees * Math.PI / 180;\n}\n\nexport function getClosestValue(inputValue, currentValue) {\n\tconst values = isArray(inputValue) ? inputValue : [inputValue];\n\n\tconst diff = values\n\t\t.map(each => each - currentValue)\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n\treturn currentValue + diff;\n}\n\nexport function find(list, predicate, context = this) {\n\tfor (let i = 0; i < list.length; ++i) {\n\t\tif (predicate.call(context, list[i], i, list)) {\n\t\t\treturn list[i];\n\t\t}\n\t}\n\treturn undefined;\n}\n\nexport function d3Window(node) {\n\tconst d3win = node\n\t\t&& (node.ownerDocument && node.ownerDocument.defaultView\n\t\t\t|| node.document && node\n\t\t\t|| node.defaultView);\n\treturn d3win;\n}\n\nexport const MOUSEENTER = \"mouseenter.interaction\";\nexport const MOUSELEAVE = \"mouseleave.interaction\";\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\nexport const TOUCHMOVE = \"touchmove.pan\";\nexport const TOUCHEND = \"touchend.pan touchcancel.pan\";\n\n\nexport function getTouchProps(touch) {\n\tif (!touch) return {};\n\treturn {\n\t\tpageX: touch.pageX,\n\t\tpageY: touch.pageY,\n\t\tclientX: touch.clientX,\n\t\tclientY: touch.clientY\n\t};\n}\n\nexport function getClosestItemIndexes(array, value, accessor, log) {\n\tlet lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tconst mid = Math.round((lo + hi) / 2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\t// for Date object === does not work, so using the <= in combination with >=\n\t// the same code works for both dates and numbers\n\tif (accessor(array[lo]).valueOf() === value.valueOf()) hi = lo;\n\tif (accessor(array[hi]).valueOf() === value.valueOf()) lo = hi;\n\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\n\n\tif (log) {\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\n\t}\n\t// var left = value > accessor(array[lo]) ? lo : lo;\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\n\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\n\treturn { left: lo, right: hi };\n}\n\nexport function getClosestItem(array, value, accessor, log) {\n\tconst { left, right } = getClosestItemIndexes(array, value, accessor, log);\n\n\tif (left === right) {\n\t\treturn array[left];\n\t}\n\n\tconst closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n\t\t? array[left]\n\t\t: array[right];\n\tif (log) {\n\t\tconsole.log(array[left], array[right], closest, left, right);\n\t}\n\treturn closest;\n}\n\nexport const overlayColors = scaleOrdinal(schemeCategory10);\n\nexport function head(array, accessor) {\n\tif (accessor && array) {\n\t\tlet value;\n\t\tfor (let i = 0; i < array.length; i++) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\treturn array ? array[0] : undefined;\n}\n\nexport function tail(array, accessor) {\n\tif (accessor && array) {\n\t\treturn array.map(accessor).slice(1);\n\t}\n\treturn array ? array.slice(1) : undefined;\n}\n\nexport const first = head;\n\nexport function last(array, accessor) {\n\tif (accessor && array) {\n\t\tlet value;\n\t\tfor (let i = array.length - 1; i >= 0; i--) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\tconst length = array ? array.length : 0;\n\treturn length ? array[length - 1] : undefined;\n}\n\nexport function isDefined(d) {\n\treturn d !== null && typeof d != \"undefined\";\n}\n\nexport function isNotDefined(d) {\n\treturn !isDefined(d);\n}\n\nexport function isObject(d) {\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\n\nexport const isArray = Array.isArray;\n\nexport function touchPosition(touch, e) {\n\tconst container = e.target,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = touch.clientX - rect.left - container.clientLeft,\n\t\ty = touch.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\nexport function mousePosition(e, defaultRect) {\n\tconst container = e.currentTarget;\n\tconst rect = defaultRect || container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\n\nexport function clearCanvas(canvasList, ratio) {\n\tcanvasList.forEach(each => {\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n\t\teach.scale(ratio, ratio);\n\t});\n}\n\nexport function capitalizeFirst(str) {\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function hexToRGBA(inputHex, opacity) {\n\tconst hex = inputHex.replace(\"#\", \"\");\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\n\n\t\tconst multiplier = (hex.length === 3) ? 1 : 2;\n\n\t\tconst r = parseInt(hex.substring(0, 1 * multiplier), 16);\n\t\tconst g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\n\t\tconst b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\n\n\t\tconst result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n\n\t\treturn result;\n\t}\n\treturn inputHex;\n}\n\nexport function toObject(array, iteratee = identity) {\n\treturn array.reduce((returnObj, a) => {\n\t\tconst [key, value] = iteratee(a);\n\t\treturn {\n\t\t\t...returnObj,\n\t\t\t[key]: value\n\t\t};\n\t}, {});\n}\n\n// copied from https://github.com/lodash/lodash/blob/master/mapValue.js\nexport function mapValue(object, iteratee) {\n\tobject = Object(object);\n\t// eslint-disable-next-line prefer-const\n\tlet result = {};\n\n\tObject.keys(object).forEach(key => {\n\t\tconst mappedValue = iteratee(object[key], key, object);\n\n\t\tif (isDefined(mappedValue)) {\n\t\t\tresult[key] = mappedValue;\n\t\t}\n\t});\n\treturn result;\n}\n\n// copied from https://github.com/lodash/lodash/blob/master/mapObject.js\nexport function mapObject(object = {}, iteratee = identity) {\n\tconst props = Object.keys(object);\n\n\t// eslint-disable-next-line prefer-const\n\tlet result = new Array(props.length);\n\n\tprops.forEach((key, index) => {\n\t\tresult[index] = iteratee(object[key], key, object);\n\t});\n\treturn result;\n}\n\nexport function replaceAtIndex(array, index, value) {\n\tif (isDefined(array) && array.length > index) {\n\t\treturn array.slice(0, index)\n\t\t\t.concat(value)\n\t\t\t.concat(array.slice(index + 1));\n\t}\n\treturn array;\n}\n\n// copied from https://github.com/lodash/lodash/blob/master/forOwn.js\nexport function forOwn(obj, iteratee) {\n\tconst object = Object(obj);\n\tObject.keys(object)\n\t\t.forEach(key => iteratee(object[key], key, object));\n}","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { scaleLinear } from \"d3-scale\";\n\nimport PureComponent from \"./utils/PureComponent\";\nimport {\n\tisNotDefined,\n\tnoop,\n\tfind,\n} from \"./utils\";\n\nclass Chart extends PureComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.yScale = this.yScale.bind(this);\n\t\tthis.listener = this.listener.bind(this);\n\t}\n\t  UNSAFE_componentWillMount() {\n\t\tconst { id } = this.props;\n\t\tconst { subscribe } = this.context;\n\t\tsubscribe(\"chart_\" + id,\n\t\t\t{\n\t\t\t\tlistener: this.listener,\n\t\t\t}\n\t\t);\n\t}\n\tcomponentWillUnmount() {\n\t\tconst { id } = this.props;\n\t\tconst { unsubscribe } = this.context;\n\t\tunsubscribe(\"chart_\" + id);\n\t}\n\tlistener(type, moreProps, state, e) {\n\t\tconst { id, onContextMenu } = this.props;\n\n\t\tif (type === \"contextmenu\") {\n\t\t\tconst { currentCharts } = moreProps;\n\t\t\tif (currentCharts.indexOf(id) > -1) {\n\t\t\t\tonContextMenu(moreProps, e);\n\t\t\t}\n\t\t}\n\t}\n\tyScale() {\n\t\tconst chartConfig = find(this.context.chartConfig, each => each.id === this.props.id);\n\t\treturn chartConfig.yScale.copy();\n\t}\n\tgetChildContext() {\n\t\tconst { id: chartId } = this.props;\n\t\tconst chartConfig = find(this.context.chartConfig, each => each.id === chartId);\n\n\t\treturn {\n\t\t\tchartId,\n\t\t\tchartConfig,\n\t\t};\n\t}\n\trender() {\n\t\tconst { origin } = find(this.context.chartConfig, each => each.id === this.props.id);\n\t\tconst [x, y] = origin;\n\n\t\treturn <g transform={`translate(${ x }, ${ y })`}>{this.props.children}</g>;\n\t}\n}\n\nChart.propTypes = {\n\theight: PropTypes.number,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]),\n\tid: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\tyExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]),\n\tyExtentsCalculator: function(props, propName, componentName) {\n\t\tif (isNotDefined(props.yExtents) && typeof props.yExtentsCalculator !== \"function\")\n\t\t\treturn new Error(\"yExtents or yExtentsCalculator must\"\n\t\t\t\t+ ` be present on ${componentName}. Validation failed.`);\n\t},\n\tonContextMenu: PropTypes.func,\n\tyScale: PropTypes.func,\n\n\tflipYScale: PropTypes.bool,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number,\n\t\t})\n\t]),\n\tchildren: PropTypes.node,\n};\n\nChart.defaultProps = {\n\tid: 0,\n\torigin: [0, 0],\n\tpadding: 0,\n\tyScale: scaleLinear(),\n\tflipYScale: false,\n\tyPan: true,\n\tyPanEnabled: false,\n\tonContextMenu: noop,\n};\n\nChart.contextTypes = {\n\tchartConfig: PropTypes.array,\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n};\n\nChart.childContextTypes = {\n\tchartConfig: PropTypes.object.isRequired,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n};\n\nexport default Chart;\n","\n\nimport React from \"react\";\nimport { extent } from \"d3-array\";\nimport { set } from \"d3-collection\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport Chart from \"../Chart\";\n\nimport {\n\tlast,\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n\tisNotDefined,\n\tfunctor,\n\tmapObject,\n\tfind,\n\tshallowEqual\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tconst originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tconst chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableHeight: height,\n\t\twidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tconst obj = func(d);\n\t\tif (isObject(obj)) {\n\t\t\treturn mapObject(obj);\n\t\t}\n\t\treturn obj;\n\t};\n}\n\nfunction isArraySize2AndNumber(yExtentsProp) {\n\tif (Array.isArray(yExtentsProp) && yExtentsProp.length === 2) {\n\t\tconst [a, b] = yExtentsProp;\n\t\treturn (typeof a == \"number\" && typeof b == \"number\");\n\t}\n\treturn false;\n}\n\nexport function getNewChartConfig(innerDimension, children, existingChartConfig = []) {\n\treturn React.Children.map(children, (each) => {\n\t\tif (each && each.type.toString() === Chart.toString()) {\n\t\t\tconst chartProps = {\n\t\t\t\t...Chart.defaultProps,\n\t\t\t\t...each.props\n\t\t\t};\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\torigin,\n\t\t\t\tpadding,\n\t\t\t\tyExtents: yExtentsProp,\n\t\t\t\tyScale: yScaleProp,\n\t\t\t\tflipYScale,\n\t\t\t\tyExtentsCalculator\n\t\t\t} = chartProps;\n\n\t\t\tconst yScale = yScaleProp.copy();\n\t\t\tconst {\n\t\t\t\twidth, height, availableHeight\n\t\t\t} = getDimensions(innerDimension, chartProps);\n\n\t\t\tconst { yPan } = chartProps;\n\t\t\tlet { yPanEnabled } = chartProps;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tconst yExtents = isDefined(yExtentsProp)\n\t\t\t\t? (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(functor)\n\t\t\t\t: undefined;\n\n\t\t\tconst prevChartConfig = find(existingChartConfig, d => d.id === id);\n\n\t\t\tif (isArraySize2AndNumber(yExtentsProp)) {\n\t\t\t\tif (\n\t\t\t\t\tisDefined(prevChartConfig)\n\t\t\t\t\t&& prevChartConfig.yPan\n\t\t\t\t\t&& prevChartConfig.yPanEnabled\n\t\t\t\t\t&& yPan\n\t\t\t\t\t&& yPanEnabled\n\t\t\t\t\t&& shallowEqual(prevChartConfig.originalYExtentsProp, yExtentsProp)\n\t\t\t\t) {\n\t\t\t\t\t// console.log(prevChartConfig.originalYExtentsProp, yExtentsProp)\n\t\t\t\t\t// console.log(prevChartConfig.yScale.domain())\n\t\t\t\t\tyScale.domain(prevChartConfig.yScale.domain());\n\t\t\t\t} else {\n\t\t\t\t\tconst [a, b] = yExtentsProp;\n\t\t\t\t\tyScale.domain([a, b]);\n\t\t\t\t}\n\t\t\t} else if (isDefined(prevChartConfig) && prevChartConfig.yPanEnabled) {\n\t\t\t\tif (isArraySize2AndNumber(prevChartConfig.originalYExtentsProp)) {\n\t\t\t\t\t// do nothing\n\t\t\t\t} else {\n\t\t\t\t\tyScale.domain(prevChartConfig.yScale.domain());\n\t\t\t\t\tyPanEnabled = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: functor(origin)(width, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\toriginalYExtentsProp: yExtentsProp,\n\t\t\t\tyExtents,\n\t\t\t\tyExtentsCalculator,\n\t\t\t\tflipYScale,\n\t\t\t\t// yScale: setRange(yScale.copy(), height, padding, flipYScale),\n\t\t\t\tyScale: yScale,\n\t\t\t\tyPan,\n\t\t\t\tyPanEnabled,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tconst currentCharts = chartConfig.filter(eachConfig => {\n\t\tconst top = eachConfig.origin[1];\n\t\tconst bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\tif (scale.rangeRoundPoints || isNotDefined(scale.invert)) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tif (scale.rangeRoundPoints) scale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t\tif (scale.rangeRound) scale.range(flipYScale ? [0, height] : [height, 0]).padding(padding);\n\t} else {\n\t\tconst { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nfunction yDomainFromYExtents(yExtents, yScale, plotData) {\n\tconst yValues = yExtents.map(eachExtent =>\n\t\tplotData.map(values(eachExtent)));\n\n\tconst allYValues = flattenDeep(yValues);\n\t// console.log(allYValues)\n\tconst realYDomain = (yScale.invert)\n\t\t? extent(allYValues)\n\t\t: set(allYValues).values();\n\n\treturn realYDomain;\n}\n\n\nexport function getChartConfigWithUpdatedYScales(\n\tchartConfig,\n\t{ plotData, xAccessor, displayXAccessor, fullData },\n\txDomain,\n\tdy,\n\tchartsToPan\n) {\n\tconst yDomains = chartConfig\n\t\t.map(({ yExtentsCalculator, yExtents, yScale }) => {\n\n\t\t\tconst realYDomain = isDefined(yExtentsCalculator)\n\t\t\t\t? yExtentsCalculator({ plotData, xDomain, xAccessor, displayXAccessor, fullData })\n\t\t\t\t: yDomainFromYExtents(yExtents, yScale, plotData);\n\n\t\t\t// console.log(\"yScale.domain() ->\", yScale.domain())\n\n\t\t\tconst yDomainDY = isDefined(dy)\n\t\t\t\t? yScale.range().map(each => each - dy).map(yScale.invert)\n\t\t\t\t: yScale.domain();\n\t\t\treturn {\n\t\t\t\trealYDomain,\n\t\t\t\tyDomainDY,\n\t\t\t\tprevYDomain: yScale.domain(),\n\t\t\t};\n\t\t});\n\n\tconst combine = zipper()\n\t\t.combine((config, { realYDomain, yDomainDY, prevYDomain }) => {\n\t\t\tconst { id, padding, height, yScale, yPan, flipYScale, yPanEnabled = false } = config;\n\n\t\t\tconst another = isDefined(chartsToPan)\n\t\t\t\t? chartsToPan.indexOf(id) > -1\n\t\t\t\t: true;\n\t\t\tconst domain = yPan && yPanEnabled\n\t\t\t\t? another ? yDomainDY : prevYDomain\n\t\t\t\t: realYDomain;\n\n\t\t\t// console.log(id, yPan, yPanEnabled, another);\n\t\t\t// console.log(domain, realYDomain, prevYDomain);\n\t\t\tconst newYScale = setRange(\n\t\t\t\tyScale.copy().domain(domain), height, padding, flipYScale\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t...config,\n\t\t\t\tyScale: newYScale,\n\t\t\t\trealYDomain: realYDomain,\n\t\t\t};\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tconst updatedChartConfig = combine(chartConfig, yDomains);\n\t// console.error(yDomains, dy, chartsToPan, updatedChartConfig.map(d => d.yScale.domain()));\n\t// console.log(updatedChartConfig.map(d => ({ id: d.id, domain: d.yScale.domain() })))\n\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tlet xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tconst d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\nexport function getXValue(xScale, xAccessor, mouseXY, plotData) {\n\n\tlet xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\tif (xValue > xAccessor(last(plotData)) && xScale.value) {\n\t\t\treturn Math.round(xValue);\n\t\t} else {\n\t\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t\t}\n\t} else {\n\t\tconst d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn xAccessor(item);\n}\n","\n\n/* an extension to d3.zip so we call a function instead of an array */\n\nimport { min } from \"d3-array\";\n\nimport identity from \"./identity\";\n\nexport default function zipper() {\n\tlet combine = identity;\n\n\tfunction zip() {\n\t\tconst n = arguments.length;\n\t\tif (!n) return [];\n\t\tconst m = min(arguments, d3_zipLength);\n\n\t\t// eslint-disable-next-line prefer-const\n\t\tlet i, zips = new Array(m);\n\t\tfor (i = -1; ++i < m; ) {\n\t\t\tfor (let j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\n\t\t\t\tzip[j] = arguments[j][i];\n\t\t\t}\n\t\t\tzips[i] = combine.apply(this, zips[i]);\n\t\t}\n\t\treturn zips;\n\t}\n\tfunction d3_zipLength(d) {\n\t\treturn d.length;\n\t}\n\tzip.combine = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn combine;\n\t\t}\n\t\tcombine = x;\n\t\treturn zip;\n\t};\n\treturn zip;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { select, pointer, pointers } from \"d3-selection\";\n\nimport {\n\tisDefined, mousePosition, touchPosition, getTouchProps,\n\td3Window,\n\tMOUSEMOVE, MOUSEUP,\n\tMOUSEENTER, MOUSELEAVE,\n\tTOUCHMOVE, TOUCHEND,\n\tnoop\n} from \"./utils\";\nimport { getCurrentCharts } from \"./utils/ChartDataUtil\";\n// import { clearTimeout, setTimeout } from \"timers\";\n\nclass EventCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePinchZoomEnd = this.handlePinchZoomEnd.bind(this);\n\n\t\tthis.handleClick = this.handleClick.bind(this);\n\n\t\tthis.handleRightClick = this.handleRightClick.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\n\t\tthis.shouldPan = this.shouldPan.bind(this);\n\t\tthis.canPan = this.canPan.bind(this);\n\n\t\tthis.setCursorClass = this.setCursorClass.bind(this);\n\t\tthis.saveNode = this.saveNode.bind(this);\n\n\t\tthis.mouseInside = false;\n\n\t\tthis.mouseInteraction = true;\n\t\tthis.state = {\n\t\t\tpanInProgress: false,\n\t\t};\n\t}\n\tsaveNode(node) {\n\t\tthis.node = node;\n\t}\n\tUNSAFE_componentWillMount() {\n\t\tthis.focus = this.props.focus;\n\t}\n\tcomponentDidMount() {\n\t\tif (this.node) {\n\t\t\tselect(this.node)\n\t\t\t\t.on(MOUSEENTER, this.handleEnter)\n\t\t\t\t.on(MOUSELEAVE, this.handleLeave);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillUnmount() {\n\t\tif (this.node) {\n\t\t\tselect(this.node)\n\t\t\t\t.on(MOUSEENTER, null)\n\t\t\t\t.on(MOUSELEAVE, null);\n\t\t\tconst win = d3Window(this.node);\n\t\t\tselect(win)\n\t\t\t\t.on(MOUSEMOVE, null);\n\t\t}\n\t}\n\thandleEnter(e) {\n\t\tconst { onMouseEnter } = this.props;\n\t\tthis.mouseInside = true;\n\t\tif (!this.state.panInProgress\n\t\t\t\t&& !this.state.dragInProgress) {\n\t\t\tconst win = d3Window(this.node);\n\t\t\tselect(win)\n\t\t\t\t.on(MOUSEMOVE, this.handleMouseMove);\n\t\t}\n\t\tonMouseEnter(e);\n\t}\n\thandleLeave(e) {\n\t\tconst { onMouseLeave } = this.props;\n\t\tthis.mouseInside = false;\n\t\tif (!this.state.panInProgress\n\t\t\t\t&& !this.state.dragInProgress) {\n\t\t\tconst win = d3Window(this.node);\n\t\t\tselect(win)\n\t\t\t\t.on(MOUSEMOVE, null);\n\t\t}\n\t\tonMouseLeave(e);\n\t}\n\thandleWheel(e) {\n\t\tconst { zoom, onZoom } = this.props;\n\t\tconst { panInProgress } = this.state;\n\n\t\tconst yZoom = Math.abs(e.deltaY) > Math.abs(e.deltaX) && Math.abs(e.deltaY) > 0;\n\t\t// const xPan = Math.abs(e.deltaY) < Math.abs(e.deltaX) && Math.abs(e.deltaX) > 0;\n\t\tconst mouseXY = mousePosition(e);\n\t\te.preventDefault();\n\n\t\tif (zoom && this.focus && yZoom && !panInProgress) {\n\t\t\tconst zoomDir = e.deltaY > 0 ? 1 : -1;\n\n\t\t\tonZoom(zoomDir, mouseXY, e);\n\t\t} else if (this.focus) {\n\t\t\tif (this.shouldPan()) {\n\t\t\t\t// console.log(\"Do pan now...\")\n\t\t\t\t// pan already in progress\n\t\t\t\tconst {\n\t\t\t\t\tpanStartXScale,\n\t\t\t\t\tchartsToPan\n\t\t\t\t} = this.state.panStart;\n\t\t\t\tthis.lastNewPos = mouseXY;\n\t\t\t\tthis.panHappened = true;\n\n\t\t\t\tthis.dx += e.deltaX;\n\t\t\t\tthis.dy += e.deltaY;\n\t\t\t\tconst dxdy = { dx: this.dx, dy: this.dy };\n\n\t\t\t\tthis.props.onPan(mouseXY, panStartXScale, dxdy, chartsToPan, e);\n\t\t\t} else {\n\t\t\t\t// console.log(\"Pan start...\")\n\t\t\t\t// pan start\n\n\t\t\t\tconst { xScale, chartConfig } = this.props;\n\t\t\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\t\t\tthis.dx = 0;\n\t\t\t\tthis.dy = 0;\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: true,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: mouseXY,\n\t\t\t\t\t\tchartsToPan: currentCharts\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.queuePanEnd();\n\t\t}\n\t}\n\tqueuePanEnd() {\n\t\tif (isDefined(this.panEndTimeout)) {\n\t\t\tclearTimeout(this.panEndTimeout);\n\t\t}\n\t\tthis.panEndTimeout = setTimeout(() => {\n\t\t\tthis.handlePanEnd();\n\t\t}, 100);\n\t}\n\thandleMouseMove(e) {\n\t\tif (this.mouseInteraction\n\t\t\t\t&& this.props.mouseMove\n\t\t\t\t&& !this.state.panInProgress) {\n\n\t\t\tconst newPos = pointer(e, this.node);\n\t\t\tthis.props.onMouseMove(newPos, \"mouse\", e);\n\t\t}\n\t}\n\thandleClick(e) {\n\t\tconst mouseXY = mousePosition(e);\n\t\tconst { onClick, onDoubleClick } = this.props;\n\n\t\tif (!this.panHappened && !this.dragHappened) {\n\t\t\tif (this.clicked) {\n\t\t\t\tonDoubleClick(mouseXY, e);\n\t\t\t\tthis.clicked = false;\n\t\t\t} else {\n\t\t\t\tonClick(mouseXY, e);\n\t\t\t\tthis.clicked = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (this.clicked) {\n\t\t\t\t\t\tthis.clicked = false;\n\t\t\t\t\t}\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t}\n\t}\n\thandleRightClick(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t\tconst { onContextMenu, onPanEnd } = this.props;\n\n\t\tconst mouseXY = mousePosition(e, this.node.getBoundingClientRect());\n\n\t\tif (isDefined(this.state.panStart)) {\n\t\t\tconst { panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\t\t\tif (this.panHappened) {\n\t\t\t\tonPanEnd(mouseXY, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\t\t\tconst win = d3Window(this.node);\n\t\t\tselect(win)\n\t\t\t\t.on(MOUSEMOVE, null)\n\t\t\t\t.on(MOUSEUP, null);\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: false,\n\t\t\t\tpanStart: null,\n\t\t\t});\n\t\t}\n\n\t\tonContextMenu(mouseXY, e);\n\t}\n\n\thandleDrag(e) {\n\t\tif (this.props.onDrag) {\n\t\t\tthis.dragHappened = true;\n\t\t\tconst mouseXY = pointer(e, this.node);\n\t\t\tthis.props.onDrag({\n\t\t\t\tstartPos: this.state.dragStartPosition,\n\t\t\t\tmouseXY\n\t\t\t}, e);\n\t\t}\n\t}\n\tcancelDrag() {\n\t\tconst win = d3Window(this.node);\n\t\tselect(win)\n\t\t\t.on(MOUSEMOVE, this.mouseInside ? this.handleMouseMove : null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.setState({\n\t\t\tdragInProgress: false,\n\t\t});\n\t\tthis.mouseInteraction = true;\n\t}\n\thandleDragEnd(e) {\n\t\tconst mouseXY = pointer(e, this.node);\n\n\t\tconst win = d3Window(this.node);\n\t\tselect(win)\n\t\t\t.on(MOUSEMOVE, this.mouseInside ? this.handleMouseMove : null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tif (this.dragHappened) {\n\t\t\tthis.props.onDragComplete({\n\t\t\t\tmouseXY,\n\t\t\t}, e);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tdragInProgress: false,\n\t\t});\n\t\tthis.mouseInteraction = true;\n\t}\n\tcanPan() {\n\t\tconst { getAllPanConditions } = this.props;\n\t\tconst { pan: initialPanEnabled } = this.props;\n\n\t\tconst {\n\t\t\tpanEnabled,\n\t\t\tdraggable: somethingSelected\n\t\t} = getAllPanConditions()\n\t\t\t.reduce((returnObj, a) => {\n\t\t\t\treturn {\n\t\t\t\t\tdraggable: returnObj.draggable || a.draggable,\n\t\t\t\t\tpanEnabled: returnObj.panEnabled && a.panEnabled,\n\t\t\t\t};\n\t\t\t}, {\n\t\t\t\tdraggable: false,\n\t\t\t\tpanEnabled: initialPanEnabled,\n\t\t\t});\n\n\t\treturn {\n\t\t\tpanEnabled,\n\t\t\tsomethingSelected\n\t\t};\n\t}\n\thandleMouseDown(e) {\n\t\tif (e.button !== 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst { xScale, chartConfig, onMouseDown } = this.props;\n\n\t\tthis.panHappened = false;\n\t\tthis.dragHappened = false;\n\t\tthis.focus = true;\n\n\t\tif (!this.state.panInProgress\n\t\t\t&& this.mouseInteraction\n\t\t) {\n\n\t\t\tconst mouseXY = mousePosition(e);\n\t\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\t\tconst {\n\t\t\t\tpanEnabled, somethingSelected\n\t\t\t} = this.canPan();\n\t\t\tconst pan = panEnabled && !somethingSelected;\n\n\t\t\tif (pan) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: pan,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: mouseXY,\n\t\t\t\t\t\tchartsToPan: currentCharts\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tconst win = d3Window(this.node);\n\t\t\t\tselect(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.handlePan)\n\t\t\t\t\t.on(MOUSEUP, this.handlePanEnd);\n\n\t\t\t} else if (somethingSelected) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: false,\n\t\t\t\t\tdragInProgress: true,\n\t\t\t\t\tpanStart: null,\n\t\t\t\t\tdragStartPosition: mouseXY,\n\t\t\t\t});\n\t\t\t\tthis.props.onDragStart({ startPos: mouseXY }, e);\n\t\t\t\t// this.mouseInteraction = false;\n\n\t\t\t\tconst win = d3Window(this.node);\n\t\t\t\tselect(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\t\t\t}\n\n\t\t\tonMouseDown(mouseXY, currentCharts, e);\n\t\t}\n\t\te.preventDefault();\n\t}\n\tshouldPan() {\n\t\tconst { pan: panEnabled, onPan } = this.props;\n\t\treturn panEnabled\n\t\t\t&& onPan\n\t\t\t&& isDefined(this.state.panStart);\n\t}\n\thandlePan(e) {\n\t\tconst mouseXY = pointer(e, this.node);\n\t\tif (this.props.onPan) {\n\t\t\tthis.props.onPan(mouseXY, e);\n\t\t}\n\t}\n\thandlePanEnd(e) {\n\t\tconst { pan: panEnabled, onPanEnd } = this.props;\n\n\t\tif (isDefined(this.state.panStart)) {\n\t\t\tconst { panStartXScale, chartsToPan } = this.state.panStart;\n\n\t\t\tconst win = d3Window(this.node);\n\t\t\tselect(win)\n\t\t\t\t.on(MOUSEMOVE, this.mouseInside ? this.handleMouseMove : null)\n\t\t\t\t.on(MOUSEUP, null)\n\t\t\t\t.on(TOUCHMOVE, null)\n\t\t\t\t.on(TOUCHEND, null);\n\n\t\t\tif (this.panHappened\n\t\t\t\t\t&& panEnabled\n\t\t\t\t\t&& onPanEnd) {\n\t\t\t\tconst { dx, dy } = this;\n\n\t\t\t\tdelete this.dx;\n\t\t\t\tdelete this.dy;\n\t\t\t\tonPanEnd(this.lastNewPos, panStartXScale, { dx, dy }, chartsToPan, e);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: false,\n\t\t\t\tpanStart: null,\n\t\t\t});\n\t\t}\n\t}\n\thandleTouchMove(e) {\n\t\tconst { onMouseMove } = this.props;\n\t\tconst touchXY = touchPosition(getTouchProps(e.touches[0]), e);\n\t\tonMouseMove(touchXY, \"touch\", e);\n\t}\n\thandleTouchStart(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tconst { pan: panEnabled, chartConfig, onMouseMove } = this.props;\n\t\tconst { xScale, onPanEnd } = this.props;\n\n\t\tif (e.touches.length === 1) {\n\n\t\t\tthis.panHappened = false;\n\t\t\tconst touchXY = touchPosition(getTouchProps(e.touches[0]), e);\n\t\t\tonMouseMove(touchXY, \"touch\", e);\n\n\t\t\tif (panEnabled) {\n\t\t\t\tconst currentCharts = getCurrentCharts(chartConfig, touchXY);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: true,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: touchXY,\n\t\t\t\t\t\tchartsToPan: currentCharts,\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconst win = d3Window(this.node);\n\t\t\t\tselect(win)\n\t\t\t\t\t.on(TOUCHMOVE, this.handlePan, false)\n\t\t\t\t\t.on(TOUCHEND, this.handlePanEnd, false);\n\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom begin\n\t\t\t// do nothing pinch zoom is handled in handleTouchMove\n\t\t\tconst { panInProgress, panStart } = this.state;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\tconst { panStartXScale, panOrigin, chartsToPan } = panStart;\n\n\t\t\t\tconst win = d3Window(this.node);\n\t\t\t\tselect(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.mouseInside ? this.handleMouseMove : null)\n\t\t\t\t\t.on(MOUSEUP, null)\n\t\t\t\t\t.on(TOUCHMOVE, this.handlePinchZoom, false)\n\t\t\t\t\t.on(TOUCHEND, this.handlePinchZoomEnd, false);\n\n\t\t\t\tconst touch1Pos = touchPosition(getTouchProps(e.touches[0]), e);\n\t\t\t\tconst touch2Pos = touchPosition(getTouchProps(e.touches[1]), e);\n\n\t\t\t\tif (this.panHappened\n\t\t\t\t\t\t&& panEnabled\n\t\t\t\t\t\t&& onPanEnd) {\n\n\t\t\t\t\tonPanEnd(this.lastNewPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: false,\n\t\t\t\t\tpinchZoomStart: {\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\trange: xScale.range(),\n\t\t\t\t\t\tchartsToPan,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\thandlePinchZoom(e) {\n\t\tconst { onPinchZoom } = this.props;\n\t\tconst [touch1Pos, touch2Pos] = pointers(e, this.node);\n\n\t\tif (this.pinchZoomStart) {\n\t\t\tonPinchZoom(this.pinchZoomStart, {\n\t\t\t\ttouch1Pos,\n\t\t\t\ttouch2Pos,\n\t\t\t\tprevTouch1Pos: this.pinchZoomStart.touch1Pos,\n\t\t\t\tprevTouch2Pos: this.pinchZoomStart.touch2Pos,\n\t\t\t}, e);\n\t\t}\n\t}\n\thandlePinchZoomEnd(e) {\n\t\tconst mouseXY = pointer(e, this.node);\n\t\tif (this.pinchHappened) {\n\t\t\tthis.props.onPinchZoomComplete(mouseXY, e);\n\t\t}\n\t\tthis.pinchZoomStart = null;\n\t\tthis.pinchHappened = false;\n\t}\n\tsetCursorClass(cursorOverrideClass) {\n\t\tif (cursorOverrideClass !== this.state.cursorOverrideClass) {\n\t\t\tthis.setState({\n\t\t\t\tcursorOverrideClass\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, disableInteraction, useCrossHairStyleCursor } = this.props;\n\t\tconst className = this.state.cursorOverrideClass != null\n\t\t\t? this.state.cursorOverrideClass\n\t\t\t: !useCrossHairStyleCursor ? \"\" : this.state.panInProgress\n\t\t\t\t? \"react-stockcharts-grabbing-cursor\"\n\t\t\t\t: \"react-stockcharts-crosshair-cursor\";\n\n\t\tconst interactionProps = disableInteraction || {\n\t\t\tonWheel: this.handleWheel,\n\t\t\tonMouseDown: this.handleMouseDown,\n\t\t\tonClick: this.handleClick,\n\t\t\tonContextMenu: this.handleRightClick,\n\t\t\tonTouchStart: this.handleTouchStart,\n\t\t\tonTouchMove: this.handleTouchMove,\n\t\t};\n\n\t\treturn (\n\t\t\t<rect ref={this.saveNode}\n\t\t\t\tclassName={className}\n\t\t\t\twidth={width}\n\t\t\t\theight={height}\n\t\t\t\tstyle={{ opacity: 0 }}\n\t\t\t\t{...interactionProps}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n// \t\t\t\tonMouseEnter={this.handleEnter}\n//\t\t\t\tonMouseLeave={this.handleLeave}\n\n\nEventCapture.propTypes = {\n\tmouseMove: PropTypes.bool.isRequired,\n\tzoom: PropTypes.bool.isRequired,\n\tpan: PropTypes.bool.isRequired,\n\tpanSpeedMultiplier: PropTypes.number.isRequired,\n\tfocus: PropTypes.bool.isRequired,\n\tuseCrossHairStyleCursor: PropTypes.bool.isRequired,\n\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisableInteraction: PropTypes.bool.isRequired,\n\n\tgetAllPanConditions: PropTypes.func.isRequired,\n\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPinchZoomEnd: PropTypes.func.isRequired,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\tonDragStart: PropTypes.func,\n\tonDrag: PropTypes.func,\n\tonDragComplete: PropTypes.func,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\tchildren: PropTypes.node,\n};\n\nEventCapture.defaultProps = {\n\tmouseMove: false,\n\tzoom: false,\n\tpan: false,\n\tpanSpeedMultiplier: 1,\n\tfocus: false,\n\tonDragComplete: noop,\n\tdisableInteraction: false,\n};\n\nexport default EventCapture;\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, getLogger } from \"./utils\";\n\nconst log = getLogger(\"CanvasContainer\");\n\nclass CanvasContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setDrawCanvas = this.setDrawCanvas.bind(this);\n\t\tthis.drawCanvas = {};\n\t}\n\tsetDrawCanvas(node) {\n\t\tif (isDefined(node))\n\t\t\tthis.drawCanvas[node.id] = node.getContext(\"2d\");\n\t\telse\n\t\t\tthis.drawCanvas = {};\n\t}\n\tgetCanvasContexts() {\n\t\tif (isDefined(this.drawCanvas.axes)) {\n\t\t\treturn this.drawCanvas;\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, type, zIndex, ratio } = this.props;\n\t\tif (type === \"svg\") return null;\n\n\t\tlog(\"using ratio \", ratio);\n\n\t\treturn (\n\t\t\t<div style={{ position: \"absolute\", zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"axes\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"mouseCoord\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n/*\n\t\t\t\t<canvas id=\"hover\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n*/\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default CanvasContainer;\n","\n\nimport {\n\thead,\n\tlast,\n\tgetClosestItemIndexes,\n\tisDefined,\n\tisNotDefined,\n\tgetLogger,\n} from \"../utils\";\n\nconst log = getLogger(\"evaluator\");\n\nfunction getNewEnd(fallbackEnd, xAccessor, initialXScale, start) {\n\tconst {\n\t\tlastItem, lastItemX\n\t} = fallbackEnd;\n\tconst lastItemXValue = xAccessor(lastItem);\n\tconst [rangeStart, rangeEnd] = initialXScale.range();\n\n\tconst newEnd = (rangeEnd - rangeStart) / (lastItemX - rangeStart) * (lastItemXValue - start) + start;\n\treturn newEnd;\n}\n\nfunction extentsWrapper(useWholeData, clamp, pointsPerPxThreshold, minPointsPerPxThreshold, flipXScale) {\n\tfunction filterData(\n\t\tdata, inputDomain, xAccessor, initialXScale,\n\t\t{ currentPlotData, currentDomain, fallbackStart, fallbackEnd } = {}\n\t) {\n\t\tif (useWholeData) {\n\t\t\treturn { plotData: data, domain: inputDomain };\n\t\t}\n\n\t\tlet left = head(inputDomain);\n\t\tlet right = last(inputDomain);\n\t\tlet clampedDomain = inputDomain;\n\n\t\tlet filteredData = getFilteredResponse(data, left, right, xAccessor);\n\n\t\tif (filteredData.length === 1 && isDefined(fallbackStart)) {\n\t\t\tleft = fallbackStart;\n\t\t\tright = getNewEnd(fallbackEnd, xAccessor, initialXScale, left);\n\n\t\t\tclampedDomain = [\n\t\t\t\tleft,\n\t\t\t\tright,\n\t\t\t];\n\t\t\tfilteredData = getFilteredResponse(data, left, right, xAccessor);\n\t\t}\n\n\t\tif (typeof clamp === \"function\") {\n\t\t\tclampedDomain = clamp(clampedDomain, [xAccessor(head(data)), xAccessor(last(data))]);\n\t\t} else {\n\t\t\tif (clamp === \"left\" || clamp === \"both\" || clamp === true) {\n\t\t\t\tclampedDomain = [\n\t\t\t\t\tMath.max(left, xAccessor(head(data))),\n\t\t\t\t\tclampedDomain[1]\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tif (clamp === \"right\" || clamp === \"both\" || clamp === true) {\n\t\t\t\tclampedDomain = [\n\t\t\t\t\tclampedDomain[0],\n\t\t\t\t\tMath.min(right, xAccessor(last(data)))\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tif (clampedDomain !== inputDomain) {\n\t\t\tfilteredData = getFilteredResponse(data, clampedDomain[0], clampedDomain[1], xAccessor);\n\t\t}\n\n\t\tconst realInputDomain = clampedDomain;\n\t\t// [xAccessor(head(filteredData)), xAccessor(last(filteredData))];\n\n\t\tconst xScale = initialXScale.copy().domain(realInputDomain);\n\n\t\tlet width = Math.floor(xScale(xAccessor(last(filteredData)))\n\t\t\t- xScale(xAccessor(head(filteredData))));\n\n\t\t// prevent negative width when flipXScale\n\t\tif (flipXScale && width < 0) {\n\t\t\twidth = width * -1;\n\t\t}\n\n\t\tlet plotData, domain;\n\n\t\tconst chartWidth = last(xScale.range()) - head(xScale.range());\n\n\t\tlog(`Trying to show ${filteredData.length} points in ${width}px,`\n\t\t\t+ ` I can show up to ${showMaxThreshold(width, pointsPerPxThreshold) - 1} points in that width. `\n\t\t\t+ `Also FYI the entire chart width is ${chartWidth}px and pointsPerPxThreshold is ${pointsPerPxThreshold}`);\n\n\t\tif (canShowTheseManyPeriods(width, filteredData.length, pointsPerPxThreshold, minPointsPerPxThreshold)) {\n\t\t\tplotData = filteredData;\n\t\t\tdomain = realInputDomain;\n\t\t\tlog(\"AND IT WORKED\");\n\t\t} else {\n\t\t\tif (chartWidth > showMaxThreshold(width, pointsPerPxThreshold) && isDefined(fallbackEnd)) {\n\t\t\t\tplotData = filteredData;\n\t\t\t\tconst newEnd = getNewEnd(fallbackEnd, xAccessor, initialXScale, head(realInputDomain));\n\t\t\t\tdomain = [\n\t\t\t\t\thead(realInputDomain),\n\t\t\t\t\tnewEnd\n\t\t\t\t];\n\t\t\t\t// plotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width, pointsPerPxThreshold));\n\t\t\t\t// domain = currentDomain || [xAccessor(head(plotData)), xAccessor(last(plotData))];\n\n\t\t\t\tconst newXScale = xScale.copy().domain(domain);\n\t\t\t\tconst newWidth = Math.floor(newXScale(xAccessor(last(plotData)))\n\t\t\t\t\t- newXScale(xAccessor(head(plotData))));\n\n\t\t\t\tlog(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`);\n\t\t\t} else {\n\t\t\t\tplotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width, pointsPerPxThreshold));\n\t\t\t\tdomain = currentDomain || [xAccessor(head(plotData)), xAccessor(last(plotData))];\n\n\t\t\t\tconst newXScale = xScale.copy().domain(domain);\n\t\t\t\tconst newWidth = Math.floor(newXScale(xAccessor(last(plotData)))\n\t\t\t\t\t- newXScale(xAccessor(head(plotData))));\n\n\t\t\t\tlog(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`);\n\t\t\t}\n\t\t}\n\t\treturn { plotData, domain };\n\t}\n\treturn { filterData };\n}\n\nfunction canShowTheseManyPeriods(width, arrayLength, maxThreshold, minThreshold) {\n\treturn arrayLength > showMinThreshold(width, minThreshold) && arrayLength < showMaxThreshold(width, maxThreshold);\n}\n\nfunction showMinThreshold(width, threshold) {\n\treturn Math.max(1, Math.ceil(width * threshold));\n}\n\nfunction showMaxThreshold(width, threshold) {\n\treturn Math.floor(width * threshold);\n}\n\nfunction showMax(width, threshold) {\n\treturn Math.floor(showMaxThreshold(width, threshold) * 0.97);\n}\n\nfunction getFilteredResponse(data, left, right, xAccessor) {\n\tconst newLeftIndex = getClosestItemIndexes(data, left, xAccessor).right;\n\tconst newRightIndex = getClosestItemIndexes(data, right, xAccessor).left;\n\n\tconst filteredData = data.slice(newLeftIndex, newRightIndex + 1);\n\t// console.log(right, newRightIndex, dataForInterval.length);\n\n\treturn filteredData;\n}\n\nexport default function({\n\txScale, useWholeData, clamp,\n\tpointsPerPxThreshold, minPointsPerPxThreshold,\n\tflipXScale\n}) {\n\treturn extentsWrapper(\n\t\tuseWholeData || isNotDefined(xScale.invert),\n\t\tclamp,\n\t\tpointsPerPxThreshold,\n\t\tminPointsPerPxThreshold,\n\t\tflipXScale\n\t);\n}\n","\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { extent as d3Extent, min, max } from \"d3-array\";\n\nimport {\n\thead,\n\tlast,\n\tisDefined,\n\tisNotDefined,\n\tclearCanvas,\n\tshallowEqual,\n\tidentity,\n\tnoop,\n\tfunctor,\n\tgetLogger,\n} from \"./utils\";\n\n/* eslint-disable no-unused-vars */\nimport {\n\tmouseBasedZoomAnchor,\n\tlastVisibleItemBasedZoomAnchor,\n\trightDomainBasedZoomAnchor,\n} from \"./utils/zoomBehavior\";\n/* eslint-enable no-unused-vars */\n\nimport { getNewChartConfig, getChartConfigWithUpdatedYScales, getCurrentCharts, getCurrentItem } from \"./utils/ChartDataUtil\";\n\nimport EventCapture from \"./EventCapture\";\n\nimport CanvasContainer from \"./CanvasContainer\";\nimport evaluator from \"./scale/evaluator\";\n\nconst log = getLogger(\"ChartCanvas\");\n\nconst CANDIDATES_FOR_RESET = [\n\t\"seriesName\",\n\t/* \"data\",*/\n\t/* \"xAccessor\",*/\n];\n\nfunction shouldResetChart(thisProps, nextProps) {\n\treturn !CANDIDATES_FOR_RESET.every(key => {\n\t\tconst result = shallowEqual(thisProps[key], nextProps[key]);\n\t\t// console.log(key, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCursorStyle() {\n\tconst tooltipStyle = `\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}`;\n\treturn (<style type=\"text/css\">{tooltipStyle}</style>);\n}\n\nfunction getDimensions(props) {\n\treturn {\n\t\theight: props.height - props.margin.top - props.margin.bottom,\n\t\twidth: props.width - props.margin.left - props.margin.right,\n\t};\n}\n\nfunction getXScaleDirection(flipXScale) {\n\treturn flipXScale ? -1 : 1;\n}\n\nfunction calculateFullData(props) {\n\tconst { data: fullData, plotFull, xScale, clamp, pointsPerPxThreshold, flipXScale } = props;\n\tconst { xAccessor, displayXAccessor, minPointsPerPxThreshold } = props;\n\n\tconst useWholeData = isDefined(plotFull)\n\t\t? plotFull\n\t\t: xAccessor === identity;\n\n\tconst { filterData } = evaluator({\n\t\txScale,\n\t\tuseWholeData,\n\t\tclamp,\n\t\tpointsPerPxThreshold,\n\t\tminPointsPerPxThreshold,\n\t\tflipXScale,\n\t});\n\n\treturn {\n\t\txAccessor,\n\t\tdisplayXAccessor: displayXAccessor || xAccessor,\n\t\txScale: xScale.copy(),\n\t\tfullData,\n\t\tfilterData\n\t};\n}\nfunction resetChart(props, firstCalculation = false) {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (!firstCalculation) log(\"CHART RESET\");\n\t}\n\n\tconst state = calculateState(props);\n\tconst { xAccessor, displayXAccessor, fullData } = state;\n\tconst { plotData: initialPlotData, xScale } = state;\n\tconst { postCalculator, children } = props;\n\n\tconst plotData = postCalculator(initialPlotData);\n\n\tconst dimensions = getDimensions(props);\n\tconst chartConfig = getChartConfigWithUpdatedYScales(\n\t\tgetNewChartConfig(dimensions, children),\n\t\t{ plotData, xAccessor, displayXAccessor, fullData },\n\t\txScale.domain()\n\t);\n\n\treturn {\n\t\t...state,\n\t\txScale,\n\t\tplotData,\n\t\tchartConfig,\n\t};\n}\n\nfunction updateChart(\n\tnewState,\n\tinitialXScale,\n\tprops,\n\tlastItemWasVisible,\n\tinitialChartConfig,\n) {\n\n\tconst { fullData, xScale, xAccessor, displayXAccessor, filterData } = newState;\n\n\tconst lastItem = last(fullData);\n\tconst [start, end] = initialXScale.domain();\n\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tlog(\"TRIVIAL CHANGE\");\n\t}\n\n\tconst { postCalculator, children, padding, flipXScale } = props;\n\tconst { maintainPointsPerPixelOnResize } = props;\n\tconst direction = getXScaleDirection(flipXScale);\n\tconst dimensions = getDimensions(props);\n\n\tconst updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\t// console.log(\"lastItemWasVisible =\", lastItemWasVisible, end, xAccessor(lastItem), end >= xAccessor(lastItem));\n\tlet initialPlotData;\n\tif (!lastItemWasVisible || end >= xAccessor(lastItem)) {\n\t\t// resize comes here...\n\t\t// get plotData between [start, end] and do not change the domain\n\t\tconst [rangeStart, rangeEnd] = initialXScale.range();\n\t\tconst [newRangeStart, newRangeEnd] = updatedXScale.range();\n\t\tconst newDomainExtent = ((newRangeEnd - newRangeStart) / (rangeEnd - rangeStart)) * (end - start);\n\t\tconst newStart = maintainPointsPerPixelOnResize\n\t\t\t? end - newDomainExtent\n\t\t\t: start;\n\n\t\tconst lastItemX = initialXScale(xAccessor(lastItem));\n\t\t// console.log(\"pointsPerPixel => \", newStart, start, end, updatedXScale(end));\n\t\tconst response = filterData(\n\t\t\tfullData, [newStart, end], xAccessor, updatedXScale,\n\t\t\t{ fallbackStart: start, fallbackEnd: { lastItem, lastItemX } }\n\t\t);\n\t\tinitialPlotData = response.plotData;\n\t\tupdatedXScale.domain(response.domain);\n\t\t// console.log(\"HERE!!!!!\", start, end);\n\t} else if (lastItemWasVisible\n\t\t\t&& end < xAccessor(lastItem)) {\n\t\t// this is when a new item is added and last item was visible\n\t\t// so slide over and show the new item also\n\n\t\t// get plotData between [xAccessor(l) - (end - start), xAccessor(l)] and DO change the domain\n\t\tconst dx = initialXScale(xAccessor(lastItem)) - initialXScale.range()[1];\n\t\tconst [newStart, newEnd] = initialXScale.range().map(x => x + dx).map(initialXScale.invert);\n\n\n\t\tconst response = filterData(fullData, [newStart, newEnd], xAccessor, updatedXScale);\n\t\tinitialPlotData = response.plotData;\n\t\tupdatedXScale.domain(response.domain);\t\t// if last item was visible, then shift\n\t}\n\t// plotData = getDataOfLength(fullData, showingInterval, plotData.length)\n\tconst plotData = postCalculator(initialPlotData);\n\tconst chartConfig = getChartConfigWithUpdatedYScales(\n\t\tgetNewChartConfig(dimensions, children, initialChartConfig),\n\t\t{ plotData, xAccessor, displayXAccessor, fullData },\n\t\tupdatedXScale.domain()\n\t);\n\n\treturn {\n\t\txScale: updatedXScale,\n\t\txAccessor,\n\t\tchartConfig,\n\t\tplotData,\n\t\tfullData,\n\t\tfilterData,\n\t};\n}\n\nfunction calculateState(props) {\n\n\tconst {\n\t\txAccessor: inputXAccesor, xExtents: xExtentsProp, data, padding, flipXScale\n\t} = props;\n\n\tif (process.env.NODE_ENV !== \"production\" && isDefined(props.xScale.invert)) {\n\t\tfor (let i = 1; i < data.length; i++) {\n\t\t\tconst prev = data[i - 1];\n\t\t\tconst curr = data[i];\n\t\t\tif (inputXAccesor(prev) > inputXAccesor(curr)) {\n\t\t\t\tthrow new Error(\"'data' is not sorted on 'xAccessor', send 'data' sorted in ascending order of 'xAccessor'\");\n\t\t\t}\n\t\t}\n\t}\n\n\tconst direction = getXScaleDirection(flipXScale);\n\tconst dimensions = getDimensions(props);\n\n\tconst extent = typeof xExtentsProp === \"function\"\n\t\t? xExtentsProp(data)\n\t\t: d3Extent(xExtentsProp.map(d => functor(d)).map(each => each(data, inputXAccesor)));\n\n\tconst { xAccessor, displayXAccessor, xScale, fullData, filterData } = calculateFullData(props);\n\tconst updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tconst { plotData, domain } = filterData(fullData, extent, inputXAccesor, updatedXScale);\n\n\tif (process.env.NODE_ENV !== \"production\" && plotData.length <= 1) {\n\t\tthrow new Error(`Showing ${plotData.length} datapoints, review the 'xExtents' prop of ChartCanvas`);\n\t}\n\treturn {\n\t\tplotData,\n\t\txScale: updatedXScale.domain(domain),\n\t\txAccessor,\n\t\tdisplayXAccessor,\n\t\tfullData,\n\t\tfilterData,\n\t};\n}\n\nfunction setXRange(xScale, dimensions, padding, direction = 1) {\n\tif (xScale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.rangeRoundPoints([0, dimensions.width], padding);\n\t} else if (xScale.padding) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.range([0, dimensions.width]);\n\t\txScale.padding(padding / 2);\n\t} else {\n\t\tconst { left, right } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { left: padding, right: padding };\n\t\tif (direction > 0) {\n\t\t\txScale.range([left, dimensions.width - right]);\n\t\t} else {\n\t\t\txScale.range([dimensions.width - right, left]);\n\t\t}\n\t}\n\treturn xScale;\n}\n\nfunction pinchCoordinates(pinch) {\n\tconst { touch1Pos, touch2Pos } = pinch;\n\n\treturn {\n\t\ttopLeft: [Math.min(touch1Pos[0], touch2Pos[0]), Math.min(touch1Pos[1], touch2Pos[1])],\n\t\tbottomRight: [Math.max(touch1Pos[0], touch2Pos[0]), Math.max(touch1Pos[1], touch2Pos[1])]\n\t};\n}\n\n\nclass ChartCanvas extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.getDataInfo = this.getDataInfo.bind(this);\n\t\tthis.getCanvasContexts = this.getCanvasContexts.bind(this);\n\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleZoom = this.handleZoom.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePinchZoomEnd = this.handlePinchZoomEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDoubleClick = this.handleDoubleClick.bind(this);\n\t\tthis.handleContextMenu = this.handleContextMenu.bind(this);\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\n\t\tthis.panHelper = this.panHelper.bind(this);\n\t\tthis.pinchZoomHelper = this.pinchZoomHelper.bind(this);\n\t\tthis.xAxisZoom = this.xAxisZoom.bind(this);\n\t\tthis.yAxisZoom = this.yAxisZoom.bind(this);\n\t\tthis.resetYDomain = this.resetYDomain.bind(this);\n\t\tthis.calculateStateForDomain = this.calculateStateForDomain.bind(this);\n\t\tthis.generateSubscriptionId = this.generateSubscriptionId.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.redraw = this.redraw.bind(this);\n\t\tthis.getAllPanConditions = this.getAllPanConditions.bind(this);\n\n\t\tthis.subscriptions = [];\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t\tthis.unsubscribe = this.unsubscribe.bind(this);\n\t\tthis.amIOnTop = this.amIOnTop.bind(this);\n\t\tthis.saveEventCaptureNode = this.saveEventCaptureNode.bind(this);\n\t\tthis.saveCanvasContainerNode = this.saveCanvasContainerNode.bind(this);\n\t\tthis.setCursorClass = this.setCursorClass.bind(this);\n\t\tthis.getMutableState = this.getMutableState.bind(this);\n\t\t// this.canvasDrawCallbackList = [];\n\t\tthis.interactiveState = [];\n\t\tthis.panInProgress = false;\n\n\t\tthis.state = {};\n\t\tthis.mutableState = {};\n\t\tthis.lastSubscriptionId = 0;\n\t}\n\tsaveEventCaptureNode(node) {\n\t\tthis.eventCaptureNode = node;\n\t}\n\tsaveCanvasContainerNode(node) {\n\t\tthis.canvasContainerNode = node;\n\t}\n\tgetMutableState() {\n\t\treturn this.mutableState;\n\t}\n\tgetDataInfo() {\n\t\treturn {\n\t\t\t...this.state,\n\t\t\tfullData: this.fullData,\n\t\t};\n\t}\n\tgetCanvasContexts() {\n\t\tif (this.canvasContainerNode) {\n\t\t\treturn this.canvasContainerNode.getCanvasContexts();\n\t\t}\n\t}\n\tgenerateSubscriptionId() {\n\t\tthis.lastSubscriptionId++;\n\t\treturn this.lastSubscriptionId;\n\t}\n\tclearBothCanvas() {\n\t\tconst canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\tclearCanvas([\n\t\t\t\tcanvases.axes,\n\t\t\t\t// canvases.hover,\n\t\t\t\tcanvases.mouseCoord\n\t\t\t], this.props.ratio);\n\t\t}\n\t}\n\tclearMouseCanvas() {\n\t\tconst canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.mouseCoord) {\n\t\t\tclearCanvas([\n\t\t\t\tcanvases.mouseCoord,\n\t\t\t\t// canvases.hover,\n\t\t\t], this.props.ratio);\n\t\t}\n\t}\n\tclearThreeCanvas() {\n\t\tconst canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\tclearCanvas([\n\t\t\t\tcanvases.axes,\n\t\t\t\t// canvases.hover,\n\t\t\t\tcanvases.mouseCoord,\n\t\t\t\tcanvases.bg\n\t\t\t], this.props.ratio);\n\t\t}\n\t}\n\tsubscribe(id, rest) {\n\t\tconst { getPanConditions = functor({\n\t\t\tdraggable: false,\n\t\t\tpanEnabled: true,\n\t\t}) } = rest;\n\t\tthis.subscriptions = this.subscriptions.concat({\n\t\t\tid,\n\t\t\t...rest,\n\t\t\tgetPanConditions,\n\t\t});\n\t}\n\tunsubscribe(id) {\n\t\tthis.subscriptions = this.subscriptions.filter(each => each.id !== id);\n\t}\n\tgetAllPanConditions() {\n\t\treturn this.subscriptions\n\t\t\t.map(each => each.getPanConditions());\n\t}\n\tsetCursorClass(className) {\n\t\tif (this.eventCaptureNode != null) {\n\t\t\tthis.eventCaptureNode.setCursorClass(className);\n\t\t}\n\t}\n\tamIOnTop(id) {\n\t\tconst dragableComponents = this.subscriptions\n\t\t\t.filter(each => each.getPanConditions().draggable);\n\n\t\treturn dragableComponents.length > 0\n\t\t\t&& last(dragableComponents).id === id;\n\t}\n\thandleContextMenu(mouseXY, e) {\n\t\tconst { xAccessor, chartConfig, plotData, xScale } = this.state;\n\n\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tconst currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"contextmenu\", {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\t}\n\tcalculateStateForDomain(newDomain) {\n\t\tconst {\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t\txScale: initialXScale,\n\t\t\tchartConfig: initialChartConfig,\n\t\t\tplotData: initialPlotData\n\t\t} = this.state;\n\t\tconst { filterData } = this.state;\n\t\tconst { fullData } = this;\n\t\tconst { postCalculator } = this.props;\n\n\t\tconst { plotData: beforePlotData, domain } = filterData(\n\t\t\tfullData,\n\t\t\tnewDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\t{\n\t\t\t\tcurrentPlotData: initialPlotData,\n\t\t\t\tcurrentDomain: initialXScale.domain()\n\t\t\t}\n\t\t);\n\n\t\tconst plotData = postCalculator(beforePlotData);\n\t\tconst updatedScale = initialXScale.copy().domain(domain);\n\t\tconst chartConfig = getChartConfigWithUpdatedYScales(\n\t\t\tinitialChartConfig,\n\t\t\t{ plotData, xAccessor, displayXAccessor, fullData },\n\t\t\tupdatedScale.domain()\n\t\t);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t};\n\t}\n\tpinchZoomHelper(initialPinch, finalPinch) {\n\t\tconst { xScale: initialPinchXScale } = initialPinch;\n\n\t\tconst {\n\t\t\txScale: initialXScale,\n\t\t\tchartConfig: initialChartConfig,\n\t\t\tplotData: initialPlotData,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = this.state;\n\t\tconst { filterData } = this.state;\n\t\tconst { fullData } = this;\n\t\tconst { postCalculator } = this.props;\n\n\t\tconst { topLeft: iTL, bottomRight: iBR } = pinchCoordinates(initialPinch);\n\t\tconst { topLeft: fTL, bottomRight: fBR } = pinchCoordinates(finalPinch);\n\n\t\tconst e = initialPinchXScale.range()[1];\n\n\t\tconst xDash = Math.round(-(iBR[0] * fTL[0] - iTL[0] * fBR[0]) / (iTL[0] - iBR[0]));\n\t\tconst yDash = Math.round(e + ((e - iBR[0]) * (e - fTL[0]) - (e - iTL[0]) * (e - fBR[0])) / ((e - iTL[0]) - (e - iBR[0])));\n\n\t\tconst x = Math.round(-xDash * iTL[0] / (-xDash + fTL[0]));\n\t\tconst y = Math.round(e - (yDash - e) * (e - iTL[0]) / (yDash + (e - fTL[0])));\n\n\t\tconst newDomain = [x, y].map(initialPinchXScale.invert);\n\t\t// var domainR = initial.right + right;\n\n\t\tconst { plotData: beforePlotData, domain } = filterData(\n\t\t\tfullData,\n\t\t\tnewDomain,\n\t\t\txAccessor,\n\t\t\tinitialPinchXScale,\n\t\t\t{\n\t\t\t\tcurrentPlotData: initialPlotData,\n\t\t\t\tcurrentDomain: initialXScale.domain()\n\t\t\t}\n\t\t);\n\n\t\tconst plotData = postCalculator(beforePlotData);\n\t\tconst updatedScale = initialXScale.copy().domain(domain);\n\n\t\tconst mouseXY = finalPinch.touch1Pos;\n\t\tconst chartConfig = getChartConfigWithUpdatedYScales(\n\t\t\tinitialChartConfig,\n\t\t\t{ plotData, xAccessor, displayXAccessor, fullData },\n\t\t\tupdatedScale.domain()\n\t\t);\n\t\tconst currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\n\t\treturn {\n\t\t\tchartConfig,\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\tcancelDrag() {\n\t\tthis.eventCaptureNode.cancelDrag();\n\t\tthis.triggerEvent(\"dragcancel\");\n\t}\n\thandlePinchZoom(initialPinch, finalPinch, e) {\n\t\tif (!this.waitingForPinchZoomAnimationFrame) {\n\t\t\tthis.waitingForPinchZoomAnimationFrame = true;\n\t\t\tconst state = this.pinchZoomHelper(initialPinch, finalPinch);\n\n\t\t\tthis.triggerEvent(\"pinchzoom\", state, e);\n\n\t\t\tthis.finalPinch = finalPinch;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.clearBothCanvas();\n\t\t\t\tthis.draw({ trigger: \"pinchzoom\" });\n\t\t\t\tthis.waitingForPinchZoomAnimationFrame = false;\n\t\t\t});\n\t\t}\n\t}\n\thandlePinchZoomEnd(initialPinch, e) {\n\t\tconst { xAccessor } = this.state;\n\n\t\tif (this.finalPinch) {\n\t\t\tconst state = this.pinchZoomHelper(initialPinch, this.finalPinch);\n\t\t\tconst { xScale } = state;\n\t\t\tthis.triggerEvent(\"pinchzoom\", state, e);\n\n\t\t\tthis.finalPinch = null;\n\n\t\t\tthis.clearThreeCanvas();\n\n\t\t\tconst { fullData } = this;\n\t\t\tconst firstItem = head(fullData);\n\n\t\t\tconst start = head(xScale.domain());\n\t\t\tconst end = xAccessor(firstItem);\n\t\t\tconst { onLoadMore } = this.props;\n\n\t\t\tthis.setState(state, () => {\n\t\t\t\tif (start < end) {\n\t\t\t\t\tonLoadMore(start, end);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleZoom(zoomDirection, mouseXY, e) {\n\t\tif (this.panInProgress)\n\t\t\treturn;\n\t\t// console.log(\"zoomDirection \", zoomDirection, \" mouseXY \", mouseXY);\n\t\tconst { xAccessor, xScale: initialXScale, plotData: initialPlotData } = this.state;\n\t\tconst { zoomMultiplier, zoomAnchor } = this.props;\n\t\tconst { fullData } = this;\n\t\tconst item = zoomAnchor({\n\t\t\txScale: initialXScale,\n\t\t\txAccessor,\n\t\t\tmouseXY,\n\t\t\tplotData: initialPlotData,\n\t\t\tfullData,\n\t\t});\n\n\t\tconst cx = initialXScale(item);\n\t\tconst c = zoomDirection > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\t\tconst newDomain = initialXScale.range().map(x => cx + (x - cx) * c).map(initialXScale.invert);\n\n\t\tconst { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\n\t\tconst currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\tthis.clearThreeCanvas();\n\n\t\tconst firstItem = head(fullData);\n\n\t\tconst start = head(xScale.domain());\n\t\tconst end = xAccessor(firstItem);\n\t\tconst { onLoadMore } = this.props;\n\n\t\tthis.mutableState = {\n\t\t\tmouseXY: mouseXY,\n\t\t\tcurrentItem: currentItem,\n\t\t\tcurrentCharts: currentCharts,\n\t\t};\n\n\t\tthis.triggerEvent(\"zoom\", {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tcurrentItem,\n\t\t\tshow: true,\n\t\t}, e);\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) {\n\t\t\t\tonLoadMore(start, end);\n\t\t\t}\n\t\t});\n\t}\n\txAxisZoom(newDomain) {\n\t\tconst { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\t\tthis.clearThreeCanvas();\n\n\t\tconst { xAccessor } = this.state;\n\t\tconst { fullData } = this;\n\t\tconst firstItem = head(fullData);\n\t\tconst start = head(xScale.domain());\n\t\tconst end = xAccessor(firstItem);\n\t\tconst { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tyAxisZoom(chartId, newDomain) {\n\t\tthis.clearThreeCanvas();\n\t\tconst { chartConfig: initialChartConfig } = this.state;\n\t\tconst chartConfig = initialChartConfig\n\t\t\t.map(each => {\n\t\t\t\tif (each.id === chartId) {\n\t\t\t\t\tconst { yScale } = each;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...each,\n\t\t\t\t\t\tyScale: yScale.copy().domain(newDomain),\n\t\t\t\t\t\tyPanEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn each;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.setState({\n\t\t\tchartConfig,\n\t\t});\n\t}\n\ttriggerEvent(type, props, e) {\n\t\t// console.log(\"triggering ->\", type);\n\n\t\tthis.subscriptions.forEach(each => {\n\t\t\tconst state = {\n\t\t\t\t...this.state,\n\t\t\t\tfullData: this.fullData,\n\t\t\t\tsubscriptions: this.subscriptions,\n\t\t\t};\n\t\t\teach.listener(type, props, state, e);\n\t\t});\n\t}\n\tdraw(props) {\n\t\tthis.subscriptions.forEach(each => {\n\t\t\tif (isDefined(each.draw))\n\t\t\t\teach.draw(props);\n\t\t});\n\t}\n\tredraw() {\n\t\tthis.clearThreeCanvas();\n\t\tthis.draw({ force: true });\n\t}\n\tpanHelper(mouseXY, initialXScale, { dx, dy }, chartsToPan) {\n\t\tconst { xAccessor, displayXAccessor, chartConfig: initialChartConfig } = this.state;\n\t\tconst { filterData } = this.state;\n\t\tconst { fullData } = this;\n\t\tconst { postCalculator } = this.props;\n\n\t\t// console.log(dx, dy);\n\t\tif (isNotDefined(initialXScale.invert))\n\t\t\tthrow new Error(\"xScale provided does not have an invert() method.\"\n\t\t\t\t+ \"You are likely using an ordinal scale. This scale does not support zoom, pan\");\n\n\t\tconst newDomain = initialXScale.range().map(x => x - dx).map(initialXScale.invert);\n\n\t\tconst { plotData: beforePlotData, domain } = filterData(\n\t\t\tfullData,\n\t\t\tnewDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\t{\n\t\t\t\tcurrentPlotData: this.hackyWayToStopPanBeyondBounds__plotData,\n\t\t\t\tcurrentDomain: this.hackyWayToStopPanBeyondBounds__domain\n\t\t\t}\n\t\t);\n\n\t\tconst updatedScale = initialXScale.copy().domain(domain);\n\t\tconst plotData = postCalculator(beforePlotData);\n\t\t// console.log(last(plotData));\n\n\t\tconst currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\t\tconst chartConfig = getChartConfigWithUpdatedYScales(\n\t\t\tinitialChartConfig,\n\t\t\t{ plotData, xAccessor, displayXAccessor, fullData },\n\t\t\tupdatedScale.domain(),\n\t\t\tdy,\n\t\t\tchartsToPan\n\t\t);\n\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\t// console.log(initialXScale.domain(), newDomain, updatedScale.domain());\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\thandlePan(mousePosition, panStartXScale, dxdy, chartsToPan, e) {\n\t\tif (!this.waitingForPanAnimationFrame) {\n\t\t\tthis.waitingForPanAnimationFrame = true;\n\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData = this.hackyWayToStopPanBeyondBounds__plotData || this.state.plotData;\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain = this.hackyWayToStopPanBeyondBounds__domain || this.state.xScale.domain();\n\n\t\t\tconst state = this.panHelper(mousePosition, panStartXScale, dxdy, chartsToPan);\n\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData = state.plotData;\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain = state.xScale.domain();\n\n\t\t\tthis.panInProgress = true;\n\t\t\t// console.log(panStartXScale.domain(), state.xScale.domain());\n\n\t\t\tthis.triggerEvent(\"pan\", state, e);\n\n\t\t\tthis.mutableState = {\n\t\t\t\tmouseXY: state.mouseXY,\n\t\t\t\tcurrentItem: state.currentItem,\n\t\t\t\tcurrentCharts: state.currentCharts,\n\t\t\t};\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.waitingForPanAnimationFrame = false;\n\t\t\t\tthis.clearBothCanvas();\n\t\t\t\tthis.draw({ trigger: \"pan\" });\n\t\t\t});\n\t\t}\n\t}\n\thandlePanEnd(mousePosition, panStartXScale, dxdy, chartsToPan, e) {\n\t\tconst state = this.panHelper(mousePosition, panStartXScale, dxdy, chartsToPan);\n\t\t// console.log(this.canvasDrawCallbackList.map(d => d.type));\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = null;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = null;\n\n\t\tthis.panInProgress = false;\n\n\t\t// console.log(\"PANEND\", panEnd++);\n\t\tconst {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t} = state;\n\n\t\tthis.triggerEvent(\"panend\", state, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tconst { xAccessor } = this.state;\n\t\t\tconst { fullData } = this;\n\n\t\t\tconst firstItem = head(fullData);\n\t\t\tconst start = head(xScale.domain());\n\t\t\tconst end = xAccessor(firstItem);\n\t\t\t// console.log(start, end, start < end ? \"Load more\" : \"I have it\");\n\n\t\t\tconst { onLoadMore } = this.props;\n\n\t\t\tthis.clearThreeCanvas();\n\n\t\t\tthis.setState({\n\t\t\t\txScale,\n\t\t\t\tplotData,\n\t\t\t\tchartConfig,\n\t\t\t}, () => {\n\t\t\t\tif (start < end) onLoadMore(start, end);\n\t\t\t});\n\t\t});\n\t}\n\thandleMouseDown(mousePosition, currentCharts, e) {\n\t\tthis.triggerEvent(\"mousedown\", this.mutableState, e);\n\t}\n\thandleMouseEnter(e) {\n\t\tthis.triggerEvent(\"mouseenter\", {\n\t\t\tshow: true,\n\t\t}, e);\n\t}\n\thandleMouseMove(mouseXY, inputType, e) {\n\t\tif (!this.waitingForMouseMoveAnimationFrame) {\n\t\t\tthis.waitingForMouseMoveAnimationFrame = true;\n\n\t\t\tconst { chartConfig, plotData, xScale, xAccessor } = this.state;\n\t\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\t\tconst currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\t\tthis.triggerEvent(\"mousemove\", {\n\t\t\t\tshow: true,\n\t\t\t\tmouseXY,\n\t\t\t\t// prevMouseXY is used in interactive components\n\t\t\t\tprevMouseXY: this.prevMouseXY,\n\t\t\t\tcurrentItem,\n\t\t\t\tcurrentCharts,\n\t\t\t}, e);\n\n\t\t\tthis.prevMouseXY = mouseXY;\n\t\t\tthis.mutableState = {\n\t\t\t\tmouseXY,\n\t\t\t\tcurrentItem,\n\t\t\t\tcurrentCharts,\n\t\t\t};\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.clearMouseCanvas();\n\t\t\t\tthis.draw({ trigger: \"mousemove\" });\n\t\t\t\tthis.waitingForMouseMoveAnimationFrame = false;\n\t\t\t});\n\t\t}\n\t}\n\thandleMouseLeave(e) {\n\t\tthis.triggerEvent(\"mouseleave\", { show: false }, e);\n\t\tthis.clearMouseCanvas();\n\t\tthis.draw({ trigger: \"mouseleave\" });\n\t}\n\thandleDragStart({ startPos }, e) {\n\t\tthis.triggerEvent(\"dragstart\", { startPos }, e);\n\t}\n\thandleDrag({ startPos, mouseXY }, e) {\n\t\tconst { chartConfig, plotData, xScale, xAccessor } = this.state;\n\t\tconst currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tconst currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"drag\", {\n\t\t\tstartPos,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\n\t\tthis.mutableState = {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t};\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw({ trigger: \"drag\" });\n\t\t});\n\t}\n\thandleDragEnd({ mouseXY }, e) {\n\t\tthis.triggerEvent(\"dragend\", { mouseXY }, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw({ trigger: \"dragend\" });\n\t\t});\n\t}\n\thandleClick(mousePosition, e) {\n\t\tthis.triggerEvent(\"click\", this.mutableState, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw({ trigger: \"click\" });\n\t\t});\n\t}\n\thandleDoubleClick(mousePosition, e) {\n\t\tthis.triggerEvent(\"dblclick\", {}, e);\n\t}\n\tgetChildContext() {\n\t\tconst dimensions = getDimensions(this.props);\n\t\treturn {\n\t\t\tfullData: this.fullData,\n\t\t\tplotData: this.state.plotData,\n\t\t\twidth: dimensions.width,\n\t\t\theight: dimensions.height,\n\t\t\tchartConfig: this.state.chartConfig,\n\t\t\txScale: this.state.xScale,\n\t\t\txAccessor: this.state.xAccessor,\n\t\t\tdisplayXAccessor: this.state.displayXAccessor,\n\t\t\tchartCanvasType: this.props.type,\n\t\t\tmargin: this.props.margin,\n\t\t\tratio: this.props.ratio,\n\t\t\txAxisZoom: this.xAxisZoom,\n\t\t\tyAxisZoom: this.yAxisZoom,\n\t\t\tgetCanvasContexts: this.getCanvasContexts,\n\t\t\tredraw: this.redraw,\n\t\t\tsubscribe: this.subscribe,\n\t\t\tunsubscribe: this.unsubscribe,\n\t\t\tgenerateSubscriptionId: this.generateSubscriptionId,\n\t\t\tgetMutableState: this.getMutableState,\n\t\t\tamIOnTop: this.amIOnTop,\n\t\t\tsetCursorClass: this.setCursorClass,\n\t\t};\n\t}\n\tUNSAFE_componentWillMount() {\n\t\tconst { fullData, ...state } = resetChart(this.props, true);\n\t\tthis.setState(state);\n\t\tthis.fullData = fullData;\n\t}\n\tUNSAFE_componentWillReceiveProps(nextProps) {\n\t\tconst reset = shouldResetChart(this.props, nextProps);\n\n\t\tconst interaction = isInteractionEnabled(this.state.xScale, this.state.xAccessor, this.state.plotData);\n\t\tconst { chartConfig: initialChartConfig } = this.state;\n\n\t\tlet newState;\n\t\tif (!interaction || reset || !shallowEqual(this.props.xExtents, nextProps.xExtents)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (!interaction)\n\t\t\t\t\tlog(\"RESET CHART, changes to a non interactive chart\");\n\t\t\t\telse if (reset)\n\t\t\t\t\tlog(\"RESET CHART, one or more of these props changed\", CANDIDATES_FOR_RESET);\n\t\t\t\telse\n\t\t\t\t\tlog(\"xExtents changed\");\n\t\t\t}\n\t\t\t// do reset\n\t\t\tnewState = resetChart(nextProps);\n\t\t\tthis.mutableState = {};\n\t\t} else {\n\n\t\t\tconst [start, end] = this.state.xScale.domain();\n\t\t\tconst prevLastItem = last(this.fullData);\n\n\t\t\tconst calculatedState = calculateFullData(nextProps);\n\t\t\tconst { xAccessor } = calculatedState;\n\t\t\tconst lastItemWasVisible = xAccessor(prevLastItem) <= end && xAccessor(prevLastItem) >= start;\n\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (this.props.data !== nextProps.data)\n\t\t\t\t\tlog(\"data is changed but seriesName did not, change the seriesName if you wish to reset the chart and lastItemWasVisible = \", lastItemWasVisible);\n\t\t\t\telse\n\t\t\t\t\tlog(\"Trivial change, may be width/height or type changed, but that does not matter\");\n\t\t\t}\n\n\t\t\tnewState = updateChart(\n\t\t\t\tcalculatedState,\n\t\t\t\tthis.state.xScale,\n\t\t\t\tnextProps,\n\t\t\t\tlastItemWasVisible,\n\t\t\t\tinitialChartConfig,\n\t\t\t);\n\t\t}\n\n\t\tconst { fullData, ...state } = newState;\n\n\t\tif (this.panInProgress) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tlog(\"Pan is in progress\");\n\t\t\t}\n\t\t} else {\n\t\t\t/*\n\t\t\tif (!reset) {\n\t\t\t\tstate.chartConfig\n\t\t\t\t\t.forEach((each) => {\n\t\t\t\t\t\t// const sourceChartConfig = initialChartConfig.filter(d => d.id === each.id);\n\t\t\t\t\t\tconst prevChartConfig = find(initialChartConfig, d => d.id === each.id);\n\t\t\t\t\t\tif (isDefined(prevChartConfig) && prevChartConfig.yPanEnabled) {\n\t\t\t\t\t\t\teach.yScale.domain(prevChartConfig.yScale.domain());\n\t\t\t\t\t\t\teach.yPanEnabled = prevChartConfig.yPanEnabled;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t*/\n\t\t\tthis.clearThreeCanvas();\n\n\t\t\tthis.setState(state);\n\t\t}\n\t\tthis.fullData = fullData;\n\t}\n\t/*\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconsole.error(this.state.chartConfig, this.state.chartConfig.map(d => d.yScale.domain()));\n\t}\n\t*/\n\tresetYDomain(chartId) {\n\t\tconst { chartConfig } = this.state;\n\t\tlet changed = false;\n\t\tconst newChartConfig = chartConfig\n\t\t\t.map(each => {\n\t\t\t\tif ((isNotDefined(chartId) || each.id === chartId)\n\t\t\t\t\t\t&& !shallowEqual(each.yScale.domain(), each.realYDomain)) {\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...each,\n\t\t\t\t\t\tyScale: each.yScale.domain(each.realYDomain),\n\t\t\t\t\t\tyPanEnabled: false,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn each;\n\t\t\t});\n\n\t\tif (changed) {\n\t\t\tthis.clearThreeCanvas();\n\t\t\tthis.setState({\n\t\t\t\tchartConfig: newChartConfig\n\t\t\t});\n\t\t}\n\t}\n\tshouldComponentUpdate() {\n\t\t// console.log(\"Happneing.....\", !this.panInProgress)\n\t\treturn !this.panInProgress;\n\t}\n\trender() {\n\n\t\tconst { type, height, width, margin, className, zIndex, defaultFocus, ratio, mouseMoveEvent, panEvent, zoomEvent } = this.props;\n\t\tconst { useCrossHairStyleCursor, onSelect } = this.props;\n\n\t\tconst { plotData, xScale, xAccessor, chartConfig } = this.state;\n\t\tconst dimensions = getDimensions(this.props);\n\n\t\tconst interaction = isInteractionEnabled(xScale, xAccessor, plotData);\n\n\t\tconst cursorStyle = useCrossHairStyleCursor && interaction;\n\t\tconst cursor = getCursorStyle();\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", width, height }} className={className} onClick={onSelect}>\n\t\t\t\t<CanvasContainer ref={this.saveCanvasContainerNode}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tratio={ratio}\n\t\t\t\t\twidth={width} height={height} zIndex={zIndex}/>\n\t\t\t\t<svg className={className} width={width} height={height} style={{ position: \"absolute\", zIndex: (zIndex + 5) }}>\n\t\t\t\t\t{cursor}\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"chart-area-clip\">\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t{chartConfig\n\t\t\t\t\t\t\t.map((each, idx) => <clipPath key={idx} id={`chart-area-clip-${each.id}`}>\n\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={each.width} height={each.height} />\n\t\t\t\t\t\t\t</clipPath>)}\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${margin.left + 0.5}, ${margin.top + 0.5})`}>\n\t\t\t\t\t\t<EventCapture\n\t\t\t\t\t\t\tref={this.saveEventCaptureNode}\n\t\t\t\t\t\t\tuseCrossHairStyleCursor={cursorStyle}\n\t\t\t\t\t\t\tmouseMove={mouseMoveEvent && interaction}\n\t\t\t\t\t\t\tzoom={zoomEvent && interaction}\n\t\t\t\t\t\t\tpan={panEvent && interaction}\n\n\t\t\t\t\t\t\twidth={dimensions.width}\n\t\t\t\t\t\t\theight={dimensions.height}\n\t\t\t\t\t\t\tchartConfig={chartConfig}\n\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\t\tfocus={defaultFocus}\n\t\t\t\t\t\t\tdisableInteraction={this.props.disableInteraction}\n\n\t\t\t\t\t\t\tgetAllPanConditions={this.getAllPanConditions}\n\t\t\t\t\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\tonDoubleClick={this.handleDoubleClick}\n\t\t\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\n\t\t\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\t\tonDragComplete={this.handleDragEnd}\n\n\t\t\t\t\t\t\tonZoom={this.handleZoom}\n\t\t\t\t\t\t\tonPinchZoom={this.handlePinchZoom}\n\t\t\t\t\t\t\tonPinchZoomEnd={this.handlePinchZoomEnd}\n\t\t\t\t\t\t\tonPan={this.handlePan}\n\t\t\t\t\t\t\tonPanEnd={this.handlePanEnd}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<g className=\"react-stockcharts-avoid-interaction\">\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction isInteractionEnabled(xScale, xAccessor, data) {\n\tconst interaction = !isNaN(xScale(xAccessor(head(data)))) && isDefined(xScale.invert);\n\treturn interaction;\n}\n\nChartCanvas.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object,\n\tratio: PropTypes.number.isRequired,\n\t// interval: PropTypes.oneOf([\"D\", \"W\", \"M\"]), // ,\"m1\", \"m5\", \"m15\", \"W\", \"M\"\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]),\n\tpointsPerPxThreshold: PropTypes.number,\n\tminPointsPerPxThreshold: PropTypes.number,\n\tdata: PropTypes.array.isRequired,\n\t// initialDisplay: PropTypes.number,\n\txAccessor: PropTypes.func,\n\txExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]),\n\tzoomAnchor: PropTypes.func,\n\n\tclassName: PropTypes.string,\n\tseriesName: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tchildren: PropTypes.node.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tpostCalculator: PropTypes.func,\n\tflipXScale: PropTypes.bool,\n\tuseCrossHairStyleCursor: PropTypes.bool,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]),\n\tdefaultFocus: PropTypes.bool,\n\tzoomMultiplier: PropTypes.number,\n\tonLoadMore: PropTypes.func,\n\tdisplayXAccessor: function(props, propName/* , componentName */) {\n\t\tif (isNotDefined(props[propName])) {\n\t\t\tconsole.warn(\"`displayXAccessor` is not defined,\"\n\t\t\t\t+ \" will use the value from `xAccessor` as `displayXAccessor`.\"\n\t\t\t\t+ \" This might be ok if you do not use a discontinuous scale\"\n\t\t\t\t+ \" but if you do, provide a `displayXAccessor` prop to `ChartCanvas`\");\n\t\t} else if (typeof props[propName] !== \"function\") {\n\t\t\treturn new Error(\"displayXAccessor has to be a function\");\n\t\t}\n\t},\n\tmouseMoveEvent: PropTypes.bool,\n\tpanEvent: PropTypes.bool,\n\tclamp: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.func]),\n\tzoomEvent: PropTypes.bool,\n\tonSelect: PropTypes.func,\n\tmaintainPointsPerPixelOnResize: PropTypes.bool,\n\tdisableInteraction: PropTypes.bool,\n};\n\nChartCanvas.defaultProps = {\n\tmargin: { top: 20, right: 30, bottom: 30, left: 80 },\n\ttype: \"hybrid\",\n\tpointsPerPxThreshold: 2,\n\tminPointsPerPxThreshold: 1 / 100,\n\tclassName: \"react-stockchart\",\n\tzIndex: 1,\n\txExtents: [min, max],\n\tpostCalculator: identity,\n\tpadding: 0,\n\txAccessor: identity,\n\tflipXScale: false,\n\tuseCrossHairStyleCursor: true,\n\tdefaultFocus: true,\n\tonLoadMore: noop,\n\tonSelect: noop,\n\tmouseMoveEvent: true,\n\tpanEvent: true,\n\tzoomEvent: true,\n\tzoomMultiplier: 1.1,\n\tclamp: false,\n\tzoomAnchor: mouseBasedZoomAnchor,\n\tmaintainPointsPerPixelOnResize: true,\n\t// ratio: 2,\n\tdisableInteraction: false,\n};\n\nChartCanvas.childContextTypes = {\n\tplotData: PropTypes.array,\n\tfullData: PropTypes.array,\n\tchartConfig: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\t\t\torigin: PropTypes.arrayOf(PropTypes.number).isRequired,\n\t\t\tpadding: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\ttop: PropTypes.number,\n\t\t\t\t\tbottom: PropTypes.number,\n\t\t\t\t})\n\t\t\t]),\n\t\t\tyExtents: PropTypes.arrayOf(PropTypes.func),\n\t\t\tyExtentsProvider: PropTypes.func,\n\t\t\tyScale: PropTypes.func.isRequired,\n\t\t\tmouseCoordinates: PropTypes.shape({\n\t\t\t\tat: PropTypes.string,\n\t\t\t\tformat: PropTypes.func\n\t\t\t}),\n\t\t\twidth: PropTypes.number.isRequired,\n\t\t\theight: PropTypes.number.isRequired,\n\t\t})\n\t).isRequired,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\txAxisZoom: PropTypes.func,\n\tyAxisZoom: PropTypes.func,\n\tamIOnTop: PropTypes.func,\n\tredraw: PropTypes.func,\n\tsubscribe: PropTypes.func,\n\tunsubscribe: PropTypes.func,\n\tsetCursorClass: PropTypes.func,\n\tgenerateSubscriptionId: PropTypes.func,\n\tgetMutableState: PropTypes.func,\n};\n\nChartCanvas.ohlcv = d => ({ date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume });\n\nexport default ChartCanvas;\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","import {\n\tgetCurrentItem\n} from \"./ChartDataUtil\";\n\nimport {\n\tlast\n} from \"./index\";\n/* eslint-disable no-unused-vars */\n\nexport function mouseBasedZoomAnchor({\n\txScale,\n\txAccessor,\n\tmouseXY,\n\tplotData,\n\tfullData,\n}) {\n\tconst currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\treturn xAccessor(currentItem);\n}\n\nexport function lastVisibleItemBasedZoomAnchor({\n\txScale,\n\txAccessor,\n\tmouseXY,\n\tplotData,\n\tfullData,\n}) {\n\tconst lastItem = last(plotData);\n\treturn xAccessor(lastItem);\n}\n\nexport function rightDomainBasedZoomAnchor({\n\txScale,\n\txAccessor,\n\tmouseXY,\n\tplotData,\n\tfullData,\n}) {\n\tconst [, end] = xScale.domain();\n\treturn end;\n}\n/* eslint-enable no-unused-vars */\n","\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n\tisNotDefined,\n\tisDefined,\n\tnoop,\n\tfunctor,\n\tidentity,\n} from \"./utils\";\n\nconst aliases = {\n\tmouseleave: \"mousemove\", // to draw interactive after mouse exit\n\tpanend: \"pan\",\n\tpinchzoom: \"pan\",\n\tmousedown: \"mousemove\",\n\tclick: \"mousemove\",\n\tcontextmenu: \"mousemove\",\n\tdblclick: \"mousemove\",\n\tdragstart: \"drag\",\n\tdragend: \"drag\",\n\tdragcancel: \"drag\",\n};\n\nclass GenericComponent extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.updateMoreProps = this.updateMoreProps.bind(this);\n\t\tthis.evaluateType = this.evaluateType.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t\tthis.getPanConditions = this.getPanConditions.bind(this);\n\t\tthis.shouldTypeProceed = this.shouldTypeProceed.bind(this);\n\t\tthis.preEvaluate = this.preEvaluate.bind(this);\n\n\t\tconst { generateSubscriptionId } = context;\n\t\tthis.suscriberId = generateSubscriptionId();\n\n\t\tthis.moreProps = {};\n\n\t\tthis.state = {\n\t\t\tupdateCount: 0,\n\t\t};\n\t}\n\tupdateMoreProps(moreProps) {\n\t\tObject.keys(moreProps).forEach(key => {\n\t\t\tthis.moreProps[key] = moreProps[key];\n\t\t});\n\t}\n\tshouldTypeProceed() {\n\t\treturn true;\n\t}\n\tpreEvaluate() {\n\t}\n\tlistener(type, moreProps, state, e) {\n\t\t// console.log(e.shiftKey)\n\t\tif (isDefined(moreProps)) {\n\t\t\tthis.updateMoreProps(moreProps);\n\t\t}\n\t\tthis.evaluationInProgress = true;\n\t\tthis.evaluateType(type, e);\n\t\tthis.evaluationInProgress = false;\n\t}\n\tevaluateType(type, e) {\n\t\tconst newType = aliases[type] || type;\n\t\tconst proceed = this.props.drawOn.indexOf(newType) > -1;\n\n\t\t// console.log(\"type ->\", type, proceed);\n\n\t\tif (!proceed) return;\n\t\t// const moreProps = this.getMoreProps();\n\t\tthis.preEvaluate(type, this.moreProps, e);\n\t\tif (!this.shouldTypeProceed(type, this.moreProps)) return;\n\n\t\tswitch (type) {\n\t\t\tcase \"zoom\":\n\t\t\tcase \"mouseenter\":\n\t\t\t// DO NOT DRAW FOR THESE EVENTS\n\t\t\t\tbreak;\n\t\t\tcase \"mouseleave\": {\n\t\t\t\tthis.moreProps.hovering = false;\n\t\t\t\tconst moreProps = this.getMoreProps();\n\n\t\t\t\tif (this.props.onUnHover) {\n\t\t\t\t\tthis.props.onUnHover(moreProps, e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"contextmenu\": {\n\t\t\t\tif (this.props.onContextMenu) {\n\t\t\t\t\tthis.props.onContextMenu(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis.moreProps.hovering\n\t\t\t\t&& this.props.onContextMenuWhenHover\n\t\t\t\t) {\n\t\t\t\t\tthis.props.onContextMenuWhenHover(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"mousedown\": {\n\t\t\t\tif (this.props.onMouseDown) {\n\t\t\t\t\tthis.props.onMouseDown(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"click\": {\n\t\t\t\tconst moreProps = this.getMoreProps();\n\t\t\t\tif (this.moreProps.hovering) {\n\t\t\t\t// console.error(\"TODO use this only for SAR, Line series\")\n\t\t\t\t\tthis.props.onClickWhenHover(moreProps, e);\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.onClickOutside(moreProps, e);\n\t\t\t\t}\n\t\t\t\tif (this.props.onClick) {\n\t\t\t\t\tthis.props.onClick(moreProps, e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"mousemove\": {\n\n\t\t\t\tconst prevHover = this.moreProps.hovering;\n\t\t\t\tthis.moreProps.hovering = this.isHover(e);\n\n\t\t\t\tconst { amIOnTop, setCursorClass } = this.context;\n\n\t\t\t\tif (this.moreProps.hovering\n\t\t\t\t\t&& !this.props.selected\n\t\t\t\t\t/* && !prevHover */\n\t\t\t\t\t&& amIOnTop(this.suscriberId)\n\t\t\t\t\t&& isDefined(this.props.onHover)) {\n\t\t\t\t\tsetCursorClass(\"react-stockcharts-pointer-cursor\");\n\t\t\t\t\tthis.iSetTheCursorClass = true;\n\t\t\t\t} else if (this.moreProps.hovering\n\t\t\t\t\t&& this.props.selected\n\t\t\t\t\t&& amIOnTop(this.suscriberId)) {\n\t\t\t\t\tsetCursorClass(this.props.interactiveCursorClass);\n\t\t\t\t\tthis.iSetTheCursorClass = true;\n\t\t\t\t} else if (prevHover\n\t\t\t\t\t&& !this.moreProps.hovering\n\t\t\t\t\t&& this.iSetTheCursorClass) {\n\t\t\t\t\tthis.iSetTheCursorClass = false;\n\t\t\t\t\tsetCursorClass(null);\n\t\t\t\t}\n\t\t\t\tconst moreProps = this.getMoreProps();\n\n\t\t\t\tif (this.moreProps.hovering && !prevHover) {\n\t\t\t\t\tif (this.props.onHover) {\n\t\t\t\t\t\tthis.props.onHover(moreProps, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevHover && !this.moreProps.hovering) {\n\t\t\t\t\tif (this.props.onUnHover) {\n\t\t\t\t\t\tthis.props.onUnHover(moreProps, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.props.onMouseMove) {\n\t\t\t\t\tthis.props.onMouseMove(moreProps, e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"dblclick\": {\n\t\t\t\tconst moreProps = this.getMoreProps();\n\n\t\t\t\tif (this.props.onDoubleClick) {\n\t\t\t\t\tthis.props.onDoubleClick(moreProps, e);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis.moreProps.hovering\n\t\t\t\t&& this.props.onDoubleClickWhenHover\n\t\t\t\t) {\n\t\t\t\t\tthis.props.onDoubleClickWhenHover(moreProps, e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"pan\": {\n\t\t\t\tthis.moreProps.hovering = false;\n\t\t\t\tif (this.props.onPan) {\n\t\t\t\t\tthis.props.onPan(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"panend\": {\n\t\t\t\tif (this.props.onPanEnd) {\n\t\t\t\t\tthis.props.onPanEnd(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"dragstart\": {\n\t\t\t\tif (this.getPanConditions().draggable) {\n\t\t\t\t\tconst { amIOnTop } = this.context;\n\t\t\t\t\tif (amIOnTop(this.suscriberId)) {\n\t\t\t\t\t\tthis.dragInProgress = true;\n\t\t\t\t\t\tthis.props.onDragStart(this.getMoreProps(), e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.someDragInProgress = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"drag\": {\n\t\t\t\tif (this.dragInProgress && this.props.onDrag) {\n\t\t\t\t\tthis.props.onDrag(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"dragend\": {\n\t\t\t\tif (this.dragInProgress && this.props.onDragComplete) {\n\t\t\t\t\tthis.props.onDragComplete(this.getMoreProps(), e);\n\t\t\t\t}\n\t\t\t\tthis.dragInProgress = false;\n\t\t\t\tthis.someDragInProgress = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"dragcancel\": {\n\t\t\t\tif (this.dragInProgress || this.iSetTheCursorClass) {\n\t\t\t\t\tconst { setCursorClass } = this.context;\n\t\t\t\t\tsetCursorClass(null);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tisHover(e) {\n\t\treturn isDefined(this.props.isHover)\n\t\t\t? this.props.isHover(this.getMoreProps(), e)\n\t\t\t: false;\n\t}\n\tgetPanConditions() {\n\t\tconst draggable = (\n\t\t\t!!(this.props.selected && this.moreProps.hovering)\n\t\t\t|| (this.props.enableDragOnHover && this.moreProps.hovering)\n\t\t);\n\n\t\treturn {\n\t\t\tdraggable,\n\t\t\tpanEnabled: !this.props.disablePan,\n\t\t};\n\t}\n\tdraw({ trigger, force } = { force: false }) {\n\t\tconst type = aliases[trigger] || trigger;\n\t\tconst proceed = this.props.drawOn.indexOf(type) > -1;\n\n\t\tif (proceed\n\t\t\t|| this.props.selected /* this is to draw as soon as you select */\n\t\t\t|| force\n\t\t) {\n\t\t\tconst { chartCanvasType } = this.context;\n\t\t\tconst { canvasDraw } = this.props;\n\n\t\t\tif (isNotDefined(canvasDraw) || chartCanvasType === \"svg\") {\n\t\t\t\tconst { updateCount } = this.state;\n\t\t\t\tthis.setState({\n\t\t\t\t\tupdateCount: updateCount + 1,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.drawOnCanvas();\n\t\t\t}\n\t\t}\n\t}\n\tUNSAFE_componentWillMount() {\n\t\tconst { subscribe, chartId } = this.context;\n\t\tconst { clip, edgeClip } = this.props;\n\n\t\tsubscribe(this.suscriberId,\n\t\t\t{\n\t\t\t\tchartId, clip, edgeClip,\n\t\t\t\tlistener: this.listener,\n\t\t\t\tdraw: this.draw,\n\t\t\t\tgetPanConditions: this.getPanConditions,\n\t\t\t}\n\t\t);\n\t\tthis.componentWillReceiveProps(this.props, this.context);\n\t}\n\tcomponentWillUnmount() {\n\t\tconst { unsubscribe } = this.context;\n\t\tunsubscribe(this.suscriberId);\n\t\tif (this.iSetTheCursorClass) {\n\t\t\tconst { setCursorClass } = this.context;\n\t\t\tsetCursorClass(null);\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tthis.componentDidUpdate(this.props);\n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tconst { chartCanvasType } = this.context;\n\t\tconst { canvasDraw, selected, interactiveCursorClass } = this.props;\n\n\t\tif (prevProps.selected !== selected) {\n\t\t\tconst { setCursorClass } = this.context;\n\t\t\tif (selected && this.moreProps.hovering) {\n\t\t\t\tthis.iSetTheCursorClass = true;\n\t\t\t\tsetCursorClass(interactiveCursorClass);\n\t\t\t} else {\n\t\t\t\tthis.iSetTheCursorClass = false;\n\t\t\t\tsetCursorClass(null);\n\t\t\t}\n\t\t}\n\t\tif (isDefined(canvasDraw)\n\t\t\t\t&& !this.evaluationInProgress\n\t\t\t\t// && !(this.someDragInProgress && this.props.selected)\n\t\t\t\t/*\n\t\t\t\tprevent double draw of interactive elements\n\t\t\t\tduring dragging / hover / click etc.\n\t\t\t\t*/\n\t\t\t\t&& chartCanvasType !== \"svg\") {\n\n\t\t\tthis.updateMoreProps(this.moreProps);\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tUNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n\t\tconst { xScale, plotData, chartConfig, getMutableState } = nextContext;\n\n\t\tthis.props.debug(nextContext);\n\t\tthis.moreProps = {\n\t\t\t...this.moreProps,\n\t\t\t...getMutableState(),\n\t\t\t/*\n\t\t\t^ this is so\n\t\t\tmouseXY, currentCharts, currentItem are available to\n\t\t\tnewly created components like MouseHoverText which\n\t\t\tis created right after a new interactive object is drawn\n\t\t\t*/\n\t\t\txScale, plotData, chartConfig\n\t\t};\n\t}\n\tgetMoreProps() {\n\t\tconst {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t\tmorePropsDecorator,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t\twidth,\n\t\t\theight,\n\t\t} = this.context;\n\n\t\tconst { chartId, fullData } = this.context;\n\n\t\tconst moreProps = {\n\t\t\txScale, plotData, chartConfig,\n\t\t\txAccessor, displayXAccessor,\n\t\t\twidth, height,\n\t\t\tchartId,\n\t\t\tfullData,\n\t\t\t...this.moreProps,\n\t\t};\n\n\t\treturn (morePropsDecorator || identity)(moreProps);\n\t}\n\tpreCanvasDraw() {\n\t\t// do nothing\n\t}\n\tpostCanvasDraw() {\n\t}\n\tdrawOnCanvas() {\n\t\tconst { canvasDraw, canvasToDraw } = this.props;\n\t\tconst { getCanvasContexts } = this.context;\n\n\t\tconst moreProps = this.getMoreProps();\n\n\t\tconst ctx = canvasToDraw(getCanvasContexts());\n\n\t\tthis.preCanvasDraw(ctx, moreProps);\n\t\tcanvasDraw(ctx, moreProps);\n\t\tthis.postCanvasDraw(ctx, moreProps);\n\t}\n\trender() {\n\t\tconst { chartCanvasType, chartId } = this.context;\n\t\tconst { canvasDraw, clip, svgDraw } = this.props;\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst suffix = isDefined(chartId) ? \"-\" + chartId : \"\";\n\n\t\tconst style = clip ? { \"clipPath\": `url(#chart-area-clip${suffix})` } : null;\n\n\t\treturn <g style={style}>{svgDraw(this.getMoreProps())}</g>;\n\t}\n}\n\nGenericComponent.propTypes = {\n\tsvgDraw: PropTypes.func.isRequired,\n\tcanvasDraw: PropTypes.func,\n\n\tdrawOn: PropTypes.array.isRequired,\n\n\tclip: PropTypes.bool.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tinteractiveCursorClass: PropTypes.string,\n\n\tselected: PropTypes.bool.isRequired,\n\tenableDragOnHover: PropTypes.bool.isRequired,\n\tdisablePan: PropTypes.bool.isRequired,\n\n\tcanvasToDraw: PropTypes.func.isRequired,\n\n\tisHover: PropTypes.func,\n\n\tonClick: PropTypes.func,\n\tonClickWhenHover: PropTypes.func,\n\tonClickOutside: PropTypes.func,\n\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\tonDragStart: PropTypes.func,\n\tonDrag: PropTypes.func,\n\tonDragComplete: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonDoubleClickWhenHover: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonContextMenuWhenHover: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\tonHover: PropTypes.func,\n\tonUnHover: PropTypes.func,\n\n\tdebug: PropTypes.func,\n\t// owner: PropTypes.string.isRequired,\n};\n\nGenericComponent.defaultProps = {\n\tsvgDraw: functor(null),\n\tdraw: [],\n\tcanvasToDraw: contexts => contexts.mouseCoord,\n\tclip: true,\n\tedgeClip: false,\n\tselected: false,\n\tdisablePan: false,\n\tenableDragOnHover: false,\n\n\tonClickWhenHover: noop,\n\tonClickOutside: noop,\n\tonDragStart: noop,\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n\tdebug: noop,\n};\n\nGenericComponent.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\tgetCanvasContexts: PropTypes.func,\n\n\tchartCanvasType: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\tfullData: PropTypes.array.isRequired,\n\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\n\tmorePropsDecorator: PropTypes.func,\n\tgenerateSubscriptionId: PropTypes.func,\n\tgetMutableState: PropTypes.func.isRequired,\n\n\tamIOnTop: PropTypes.func.isRequired,\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n\tsetCursorClass: PropTypes.func.isRequired,\n};\n\nexport default GenericComponent;\n\nexport function getAxisCanvas(contexts) {\n\treturn contexts.axes;\n}\n\nexport function getMouseCanvas(contexts) {\n\treturn contexts.mouseCoord;\n}\n","\n\nimport PropTypes from \"prop-types\";\nimport GenericComponent from \"./GenericComponent\";\nimport {\n\tisDefined,\n\tfind,\n} from \"./utils\";\n\nconst ALWAYS_TRUE_TYPES = [\n\t\"drag\",\n\t\"dragend\"\n];\n\nclass GenericChartComponent extends GenericComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t\tthis.shouldTypeProceed = this.shouldTypeProceed.bind(this);\n\t\tthis.preEvaluate = this.preEvaluate.bind(this);\n\t}\n\tpreCanvasDraw(ctx, moreProps) {\n\t\tsuper.preCanvasDraw(ctx, moreProps);\n\t\tctx.save();\n\t\tconst { margin, ratio } = this.context;\n\t\tconst { chartConfig } = moreProps;\n\n\t\tconst canvasOriginX = (0.5 * ratio) + chartConfig.origin[0] + margin.left;\n\t\tconst canvasOriginY = (0.5 * ratio) + chartConfig.origin[1] + margin.top;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\t\tconst { clip, edgeClip } = this.props;\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.scale(ratio, ratio);\n\t\tif (edgeClip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, canvasOriginY - 10, width + margin.left + margin.right + 1, height + 20);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, -1, width + 1, height + 1);\n\t\t\tctx.clip();\n\t\t}\n\t}\n\tpostCanvasDraw(ctx, moreProps) {\n\t\tsuper.postCanvasDraw(ctx, moreProps);\n\t\tctx.restore();\n\t}\n\tupdateMoreProps(moreProps) {\n\t\tsuper.updateMoreProps(moreProps);\n\t\tconst { chartConfig: chartConfigList } = moreProps;\n\n\t\tif (chartConfigList && Array.isArray(chartConfigList)) {\n\t\t\tconst { chartId } = this.context;\n\t\t\tconst chartConfig = find(chartConfigList, each => each.id === chartId);\n\t\t\tthis.moreProps.chartConfig = chartConfig;\n\t\t}\n\t\tif (isDefined(this.moreProps.chartConfig)) {\n\t\t\tconst { origin: [ox, oy] } = this.moreProps.chartConfig;\n\t\t\tif (isDefined(moreProps.mouseXY)) {\n\t\t\t\tconst { mouseXY: [x, y] } = moreProps;\n\t\t\t\tthis.moreProps.mouseXY = [\n\t\t\t\t\tx - ox,\n\t\t\t\t\ty - oy\n\t\t\t\t];\n\t\t\t}\n\t\t\tif (isDefined(moreProps.startPos)) {\n\t\t\t\tconst { startPos: [x, y] } = moreProps;\n\t\t\t\tthis.moreProps.startPos = [\n\t\t\t\t\tx - ox,\n\t\t\t\t\ty - oy\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t}\n\tpreEvaluate(/* type, moreProps */) {\n\t\t/* if (\n\t\t\ttype === \"mousemove\"\n\t\t\t&& this.props.onMouseMove\n\t\t\t&& isDefined(moreProps)\n\t\t\t&& isDefined(moreProps.currentCharts)\n\t\t) {\n\t\t\tif (moreProps.currentCharts.indexOf(this.context.chartId) === -1) {\n\t\t\t\tmoreProps.show = false;\n\t\t\t}\n\t\t} */\n\t}\n\tshouldTypeProceed(type, moreProps) {\n\t\tif (\n\t\t\t(type === \"mousemove\" || type === \"click\")\n\t\t\t&& this.props.disablePan) {\n\t\t\treturn true;\n\t\t}\n\t\tif (\n\t\t\tALWAYS_TRUE_TYPES.indexOf(type) === -1\n\t\t\t&& isDefined(moreProps)\n\t\t\t&& isDefined(moreProps.currentCharts)\n\t\t) {\n\t\t\treturn (moreProps.currentCharts.indexOf(this.context.chartId) > -1);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nGenericChartComponent.propTypes = GenericComponent.propTypes;\n\nGenericChartComponent.defaultProps = GenericComponent.defaultProps;\n\nGenericChartComponent.contextTypes = {\n\t...GenericComponent.contextTypes,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default GenericChartComponent;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport PureComponent from \"./utils/PureComponent\";\n\nimport { hexToRGBA, isDefined } from \"./utils\";\n\nclass BackgroundText extends PureComponent {\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tconst contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) BackgroundText.drawOnCanvas(contexts.bg, this.props, this.context, this.props.children);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tconst { chartCanvasType } = this.context;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tconst { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = this.props;\n\t\tconst props = { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor };\n\t\treturn (\n\t\t\t<text {...props}>this.props.children(interval)</text>\n\t\t);\n\t}\n}\n\nBackgroundText.drawOnCanvas = (ctx, props, { interval }, getText) => {\n\tctx.clearRect(-1, -1, ctx.canvas.width + 2, ctx.canvas.height + 2);\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(0.5, 0.5);\n\n\tconst { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = props;\n\n\tconst text = getText(interval);\n\n\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (stroke !== \"none\") ctx.strokeText(text, x, y);\n\tctx.fillText(text, x, y);\n\n\tctx.restore();\n};\n\nBackgroundText.propTypes = {\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n\tfill: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tstrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tchildren: PropTypes.func,\n};\n\nBackgroundText.defaultProps = {\n\topacity: 0.3,\n\tfill: \"#9E7523\",\n\tstroke: \"#9E7523\",\n\tstrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\ttextAnchor: \"middle\",\n};\n\nBackgroundText.contextTypes = {\n\tinterval: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n};\n\nexport default BackgroundText;","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\n\nimport { last, noop } from \"./utils\";\n\nclass ZoomButtons extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleZoomOut = this.handleZoomOut.bind(this);\n\t\tthis.handleZoomIn = this.handleZoomIn.bind(this);\n\t\tthis.zoom = this.zoom.bind(this);\n\t}\n\tzoom(direction) {\n\t\tconst { xAxisZoom, xScale, plotData, xAccessor } = this.context;\n\t\tconst cx = xScale(xAccessor(last(plotData)));\n\t\t// mean(xScale.range());\n\t\tconst { zoomMultiplier } = this.props;\n\n\t\tconst c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n\t\tconst [start, end] = xScale.domain();\n\t\tconst [newStart, newEnd] = xScale.range()\n\t\t\t.map(x => cx + (x - cx) * c)\n\t\t\t.map(xScale.invert);\n\n\t\tconst left = interpolateNumber(start, newStart);\n\t\tconst right = interpolateNumber(end, newEnd);\n\n\t\tconst foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(i => {\n\t\t\treturn [left(i), right(i)];\n\t\t});\n\n\t\tthis.interval = setInterval(() => {\n\t\t\txAxisZoom(foo.shift());\n\t\t\tif (foo.length === 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tdelete this.interval;\n\t\t\t}\n\t\t}, 10);\n\t}\n\thandleZoomOut() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(1);\n\t}\n\thandleZoomIn() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(-1);\n\t}\n\trender() {\n\t\tconst { chartConfig } = this.context;\n\t\tconst { width, height } = chartConfig;\n\t\tconst { size, heightFromBase, rx, ry } = this.props;\n\t\tconst { stroke, strokeOpacity, fill, strokeWidth, fillOpacity } = this.props;\n\t\tconst { textFill, textStrokeWidth } = this.props;\n\t\tconst { onReset } = this.props;\n\t\tconst centerX = Math.round(width / 2);\n\t\tconst y = height - heightFromBase;\n\n\t\tconst [w, h] = size;\n\t\tconst hLength = 5;\n\t\tconst wLength = 6;\n\n\t\tconst textY = Math.round(y + h / 2);\n\n\t\tconst resetX = centerX;\n\n\t\tconst zoomOut = d3Path();\n\t\tconst zoomOutX = centerX - w - 2 * strokeWidth;\n\t\tzoomOut.moveTo(zoomOutX - wLength, textY);\n\t\tzoomOut.lineTo(zoomOutX + wLength, textY);\n\t\tzoomOut.closePath();\n\n\t\tconst zoomIn = d3Path();\n\t\tconst zoomInX = centerX + w + 2 * strokeWidth;\n\n\t\tzoomIn.moveTo(zoomInX - wLength, textY);\n\t\tzoomIn.lineTo(zoomInX + wLength, textY);\n\n\t\tzoomIn.moveTo(zoomInX, textY - hLength);\n\t\tzoomIn.lineTo(zoomInX, textY + hLength);\n\t\t// zoomIn.closePath();\n\n\t\treturn (\n\t\t\t<g className=\"react-stockcharts-zoom-button\">\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomOut.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<g transform={`translate (${resetX}, ${y + h / 4}) scale(.14)`}>\n\t\t\t\t\t<path d=\"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\"\n\t\t\t\t\t\tfill={textFill}\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomIn.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction out\"\n\t\t\t\t\tonClick={this.handleZoomOut}\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction reset\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction in\"\n\t\t\t\t\tonClick={this.handleZoomIn}\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nZoomButtons.propTypes = {\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tsize: PropTypes.array.isRequired,\n\theightFromBase: PropTypes.number.isRequired,\n\trx: PropTypes.number.isRequired,\n\try: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\ttextDy: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\ttextStrokeWidth: PropTypes.number.isRequired,\n\tonReset: PropTypes.func,\n};\n\nZoomButtons.defaultProps = {\n\tsize: [30, 24],\n\theightFromBase: 50,\n\trx: 3,\n\try: 3,\n\tstroke: \"#000000\",\n\tstrokeOpacity: 0.3,\n\tstrokeWidth: 1,\n\tfill: \"#D6D6D6\",\n\tfillOpacity: 0.4,\n\tfontSize: 16,\n\ttextDy: \".3em\",\n\ttextFill: \"#000000\",\n\ttextStrokeWidth: 2,\n\tzoomMultiplier: 1.5,\n\tonReset: noop,\n};\n\nZoomButtons.contextTypes = {\n\txScale: PropTypes.func.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nexport default ZoomButtons;\n","\n\n// common components\nexport { default as ChartCanvas } from \"./lib/ChartCanvas\";\nexport { default as Chart } from \"./lib/Chart\";\nexport { default as GenericChartComponent } from \"./lib/GenericChartComponent\";\nexport { default as GenericComponent } from \"./lib/GenericComponent\";\nexport { default as BackgroundText } from \"./lib/BackgroundText\";\nexport { default as ZoomButtons } from \"./lib/ZoomButtons\";\n\nexport const version = \"0.7.8\";\n\n/*\n// chart types & Series\nimport * as series from \"./lib/series\";\nimport * as scale from \"./lib/scale\";\n\nimport * as coordinates from \"./lib/coordinates\";\nimport * as indicator from \"./lib/indicator\";\nimport * as algorithm from \"./lib/algorithm\";\n\nimport * as annotation from \"./lib/annotation\";\n\nimport * as axes from \"./lib/axes\";\nimport * as tooltip from \"./lib/tooltip\";\nimport * as helper from \"./lib/helper\";\n\nimport * as interactive from \"./lib/interactive\";\nimport * as utils from \"./lib/utils\";\n\n*/\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__883__","INFINITY","freeGlobal","g","Object","freeSelf","Function","arrayPush","array","values","index","length","offset","objectProto","prototype","hasOwnProperty","objectToString","toString","Symbol","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","undefined","baseFlatten","depth","predicate","isStrict","result","isFlattenable","value","isArray","isObjectLike","isLength","tag","type","isObject","call","isFunction","isArrayLike","isArrayLikeObject","isArguments","Array","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","get","globalThis","this","e","window","obj","prop","r","toStringTag","valueof","min","max","InternMap","Map","constructor","entries","keyof","super","defineProperties","_intern","_key","set","intern_get","has","intern_set","delete","intern_delete","valueOf","initRange","domain","range","arguments","Set","implicit","specifier","colors","i","slice","isDate","date","shallowEqual","b","val1","val2","numKeysA","numKeysB","getTime","_React$Component","PureComponent","_classCallCheck","_callSuper","_inherits","nextProps","nextState","nextContext","state","context","React","getLogger","prefix","noop","functor","v","find","list","d3Window","ownerDocument","defaultView","document","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","MOUSEUP","TOUCHMOVE","TOUCHEND","getTouchProps","touch","pageX","pageY","clientX","clientY","getClosestItemIndexes","accessor","log","lo","hi","mid","Math","round","left","right","head","isDefined","last","isNotDefined","touchPosition","container","target","rect","getBoundingClientRect","x","clientLeft","y","top","clientTop","mousePosition","defaultRect","currentTarget","clearCanvas","canvasList","ratio","forEach","each","setTransform","clearRect","canvas","width","height","scale","hexToRGBA","inputHex","opacity","hex","replace","indexOf","multiplier","parseInt","substring","concat","ordinal","unknown","push","_","from","copy","apply","scaleOrdinal","schemeCategory10","f","map","remove","property","clear","keys","size","empty","proto","add","e10","sqrt","e5","e2","tickSpec","start","stop","count","step","power","floor","log10","error","pow","factor","i1","i2","inc","tickIncrement","ascending","NaN","descending","compare1","compare2","delta","zero","center","ascendingBisect","bisectRight","extend","parent","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","rgbn","Rgb","rgba","hsla","rgb_formatHex","rgb_formatRgb","clampa","clampi","isNaN","h","s","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","basis","t1","v0","v1","v2","v3","t2","t3","channels","assign","displayable","formatHex8","formatHsl","k","clamp","nogamma","t","linear","rgbGamma","exponential","gamma","end","rgbSpline","spline","genericArray","nb","na","c","Date","setTime","reA","reB","source","am","bm","bs","bi","lastIndex","q","one","join","ArrayBuffer","isView","DataView","unit","normalize","bimap","interpolate","d0","d1","r0","r1","polymap","j","reverse","bisect","prefixExponent","re","formatSpecifier","match","FormatSpecifier","fill","align","sign","comma","precision","formatDecimalParts","p","toExponential","coefficient","abs","exponent","toFixed","toLocaleString","toPrecision","formatRounded","toUpperCase","formatPrefix","prefixes","linearish","ticks","tickFormat","tickStep","precisionPrefix","precisionRound","precisionFixed","nice","prestep","i0","maxIter","ceil","locale","grouping","thousands","group","Number","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","Infinity","padding","Chart","_PureComponent","_this","yScale","bind","listener","id","subscribe","unsubscribe","moreProps","_this$props","onContextMenu","currentCharts","_this2","chartConfig","chartId","_this3","_origin","_slicedToArray","origin","transform","children","propTypes","yExtents","yExtentsCalculator","flipYScale","bottom","defaultProps","untransform","piecewise","output","input","rescale","invert","rangeRound","u","transformer","scaleLinear","yPan","yPanEnabled","contextTypes","childContextTypes","isArraySize2AndNumber","yExtentsProp","_yExtentsProp","getNewChartConfig","innerDimension","existingChartConfig","chartProps","_objectSpread","yScaleProp","_getDimensions","_ref","availableHeight","getDimensions","prevChartConfig","originalYExtentsProp","_yExtentsProp2","filter","getCurrentCharts","mouseXY","eachConfig","config","getChartConfigWithUpdatedYScales","_ref3","xDomain","dy","chartsToPan","plotData","xAccessor","displayXAccessor","fullData","yDomains","_ref4","realYDomain","yValues","eachExtent","_typeof","iteratee","identity","mapObject","allYValues","flattenDeep","extent","yDomainFromYExtents","yDomainDY","prevYDomain","combine","zip","d3_zipLength","zips","zipper","_ref5","_config$yPanEnabled","another","newYScale","rangeRoundPoints","_ref2","setRange","getCurrentItem","xScale","item","_getClosestItemIndexe","closest","getClosestItem","idx","reduce","none","selector","querySelector","childMatcher","matches","childFirst","firstElementChild","update","EnterNode","datum","namespaceURI","_next","_parent","__data__","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","appendChild","child","insertBefore","next","querySelectorAll","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","typename","on","__on","removeEventListener","options","onAdd","event","contextListener","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","splice","contains","Selection","groups","parents","_groups","_parents","sourceEvent","ownerSVGElement","createSVGPoint","point","matrixTransform","getScreenCTM","inverse","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","previous","_enter","_exit","sparse","onenter","onupdate","onexit","selection","append","merge","order","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","getPropertyValue","getComputedStyle","styleValue","classed","text","html","creator","insert","before","deep","typenames","parseTypenames","dispatch","iterator","EventCapture","_Component","handleEnter","handleLeave","handleWheel","handleMouseMove","handleMouseDown","handlePanEnd","handlePan","handleTouchStart","handleTouchMove","handlePinchZoom","handlePinchZoomEnd","handleClick","handleRightClick","handleDrag","handleDragEnd","shouldPan","canPan","setCursorClass","saveNode","mouseInside","mouseInteraction","panInProgress","focus","componentDidMount","onMouseEnter","dragInProgress","onMouseLeave","zoom","onZoom","yZoom","deltaY","deltaX","preventDefault","_this$state$panStart","panStart","panStartXScale","lastNewPos","panHappened","dx","dxdy","onPan","_this$props2","setState","panOrigin","queuePanEnd","panEndTimeout","clearTimeout","setTimeout","mouseMove","newPos","pointer","onMouseMove","_this$props3","onClick","onDoubleClick","dragHappened","clicked","stopPropagation","_this$props4","onPanEnd","_this$state$panStart2","onDrag","startPos","dragStartPosition","onDragComplete","getAllPanConditions","initialPanEnabled","pan","_getAllPanConditions$","returnObj","draggable","panEnabled","somethingSelected","button","_this$props5","onMouseDown","_this$canPan","onDragStart","_this$props6","_this$props7","_this$state$panStart3","touches","_this$props8","_this$props9","touchXY","_this$state","touch1Pos","touch2Pos","pinchZoomStart","events","onPinchZoom","_pointers2","prevTouch1Pos","prevTouch2Pos","pinchHappened","onPinchZoomComplete","cursorOverrideClass","_this$props0","disableInteraction","useCrossHairStyleCursor","className","interactionProps","onWheel","onTouchStart","onTouchMove","_extends","ref","Component","panSpeedMultiplier","onPinchZoomEnd","CanvasContainer","setDrawCanvas","drawCanvas","getContext","axes","zIndex","position","getNewEnd","fallbackEnd","initialXScale","lastItem","lastItemX","lastItemXValue","_initialXScale$range2","rangeStart","showMaxThreshold","threshold","getFilteredResponse","newLeftIndex","newRightIndex","CANDIDATES_FOR_RESET","margin","getXScaleDirection","flipXScale","calculateFullData","plotFull","pointsPerPxThreshold","minPointsPerPxThreshold","_evaluator","useWholeData","filterData","inputDomain","currentPlotData","currentDomain","fallbackStart","clampedDomain","filteredData","realInputDomain","chartWidth","arrayLength","maxThreshold","minThreshold","showMinThreshold","canShowTheseManyPeriods","newEnd","newXScale","newWidth","showMax","extentsWrapper","evaluator","resetChart","inputXAccesor","xExtentsProp","xExtents","direction","dimensions","d3Extent","_calculateFullData","updatedXScale","setXRange","_filterData","calculateState","initialPlotData","postCalculator","pinchCoordinates","pinch","topLeft","bottomRight","ChartCanvas","getDataInfo","getCanvasContexts","handleMouseEnter","handleMouseLeave","handleZoom","handleDoubleClick","handleContextMenu","handleDragStart","panHelper","pinchZoomHelper","xAxisZoom","yAxisZoom","resetYDomain","calculateStateForDomain","generateSubscriptionId","draw","redraw","subscriptions","amIOnTop","saveEventCaptureNode","saveCanvasContainerNode","getMutableState","interactiveState","mutableState","lastSubscriptionId","eventCaptureNode","canvasContainerNode","canvases","mouseCoord","bg","rest","_rest$getPanCondition","getPanConditions","dragableComponents","currentItem","triggerEvent","newDomain","_this$state2","initialChartConfig","_filterData2","beforePlotData","updatedScale","initialPinch","finalPinch","initialPinchXScale","_this$state3","_pinchCoordinates","iTL","iBR","_pinchCoordinates2","fTL","fBR","xDash","yDash","_filterData3","cancelDrag","waitingForPinchZoomAnimationFrame","requestAnimationFrame","clearBothCanvas","trigger","clearThreeCanvas","firstItem","onLoadMore","zoomDirection","_this$state4","zoomMultiplier","zoomAnchor","cx","_this$calculateStateF","show","_this$calculateStateF2","force","_this$state5","_filterData4","hackyWayToStopPanBeyondBounds__plotData","hackyWayToStopPanBeyondBounds__domain","_this4","waitingForPanAnimationFrame","_this5","inputType","_this6","waitingForMouseMoveAnimationFrame","_this$state6","prevMouseXY","clearMouseCanvas","_this7","_this$state7","_this8","_this9","chartCanvasType","_resetChart","_objectWithoutProperties","_excluded","newState","reset","thisProps","every","shouldResetChart","interaction","isInteractionEnabled","_this$state$xScale$do2","prevLastItem","calculatedState","lastItemWasVisible","_initialXScale$domain2","maintainPointsPerPixelOnResize","rangeEnd","_updatedXScale$range2","newRangeStart","newRangeEnd","newStart","response","_initialXScale$range$2","updateChart","_newState","_excluded2","changed","newChartConfig","defaultFocus","mouseMoveEvent","panEvent","zoomEvent","onSelect","_this$state8","cursorStyle","cursor","seriesName","console","warn","yExtentsProvider","mouseCoordinates","at","ohlcv","open","high","low","close","volume","aliases","mouseleave","panend","pinchzoom","mousedown","click","contextmenu","dblclick","dragstart","dragend","dragcancel","GenericComponent","drawOnCanvas","getMoreProps","updateMoreProps","evaluateType","isHover","preCanvasDraw","postCanvasDraw","shouldTypeProceed","preEvaluate","suscriberId","updateCount","evaluationInProgress","newType","drawOn","hovering","onUnHover","onContextMenuWhenHover","onClickWhenHover","onClickOutside","prevHover","_this$context","selected","onHover","iSetTheCursorClass","interactiveCursorClass","onDoubleClickWhenHover","someDragInProgress","enableDragOnHover","disablePan","canvasDraw","_this$context2","clip","edgeClip","componentWillReceiveProps","componentDidUpdate","prevProps","debug","_this$context3","morePropsDecorator","_this$context4","canvasToDraw","ctx","_this$context5","svgDraw","contexts","ALWAYS_TRUE_TYPES","GenericChartComponent","_GenericComponent","_superPropGet","save","canvasOriginX","canvasOriginY","_moreProps$chartConfi","beginPath","translate","restore","chartConfigList","_this$moreProps$chart","ox","oy","_moreProps$mouseXY","_moreProps$startPos","BackgroundText","stroke","strokeOpacity","fontFamily","fontSize","textAnchor","getText","interval","strokeStyle","font","fillStyle","textAlign","strokeText","fillText","pi","PI","tau","epsilon","tauEpsilon","strings","Path","digits","_x0","_y0","_x1","_y1","_append","appendRound","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","w","ZoomButtons","handleZoomOut","handleZoomIn","_xScale$domain2","_xScale$range$map$map2","interpolateNumber","foo","setInterval","shift","clearInterval","heightFromBase","rx","ry","strokeWidth","fillOpacity","textFill","textStrokeWidth","onReset","centerX","_size","textY","resetX","zoomOut","d3Path","zoomOutX","zoomIn","zoomInX","textDy","version"],"sourceRoot":""}